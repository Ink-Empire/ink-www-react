/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/_app";
exports.ids = ["pages/_app"];
exports.modules = {

/***/ "__barrel_optimize__?names=CssBaseline,ThemeProvider!=!./node_modules/@mui/material/esm/index.js":
/*!*******************************************************************************************************!*\
  !*** __barrel_optimize__?names=CssBaseline,ThemeProvider!=!./node_modules/@mui/material/esm/index.js ***!
  \*******************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CssBaseline: () => (/* reexport safe */ _CssBaseline_index_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]),\n/* harmony export */   ThemeProvider: () => (/* reexport safe */ _Users_carolineennis_inkedin_inked_in_www_nextjs_node_modules_mui_material_esm_styles_index_js__WEBPACK_IMPORTED_MODULE_1__.ThemeProvider)\n/* harmony export */ });\n/* harmony import */ var _CssBaseline_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CssBaseline/index.js */ \"./node_modules/@mui/material/esm/CssBaseline/index.js\");\n/* harmony import */ var _Users_carolineennis_inkedin_inked_in_www_nextjs_node_modules_mui_material_esm_styles_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/@mui/material/esm/styles/index.js */ \"./node_modules/@mui/material/esm/styles/index.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_CssBaseline_index_js__WEBPACK_IMPORTED_MODULE_0__, _Users_carolineennis_inkedin_inked_in_www_nextjs_node_modules_mui_material_esm_styles_index_js__WEBPACK_IMPORTED_MODULE_1__]);\n([_CssBaseline_index_js__WEBPACK_IMPORTED_MODULE_0__, _Users_carolineennis_inkedin_inked_in_www_nextjs_node_modules_mui_material_esm_styles_index_js__WEBPACK_IMPORTED_MODULE_1__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiX19iYXJyZWxfb3B0aW1pemVfXz9uYW1lcz1Dc3NCYXNlbGluZSxUaGVtZVByb3ZpZGVyIT0hLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9lc20vaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFDK0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbmtlZGluLXdlYi8uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2VzbS9pbmRleC5qcz9kYTQ4Il0sInNvdXJjZXNDb250ZW50IjpbIlxuZXhwb3J0IHsgZGVmYXVsdCBhcyBDc3NCYXNlbGluZSB9IGZyb20gXCIuL0Nzc0Jhc2VsaW5lL2luZGV4LmpzXCJcbmV4cG9ydCB7IFRoZW1lUHJvdmlkZXIgfSBmcm9tIFwiL1VzZXJzL2Nhcm9saW5lZW5uaXMvaW5rZWRpbi9pbmtlZC1pbi13d3cvbmV4dGpzL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL2VzbS9zdHlsZXMvaW5kZXguanNcIiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///__barrel_optimize__?names=CssBaseline,ThemeProvider!=!./node_modules/@mui/material/esm/index.js\n");

/***/ }),

/***/ "./contexts/AuthContext.tsx":
/*!**********************************!*\
  !*** ./contexts/AuthContext.tsx ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthProvider: () => (/* binding */ AuthProvider),\n/* harmony export */   useAuth: () => (/* binding */ useAuth)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _utils_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/auth */ \"./utils/auth.ts\");\n/* harmony import */ var _utils_api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/api */ \"./utils/api.ts\");\n\n\n\n\nconst AuthContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)({\n    user: null,\n    isLoading: true,\n    isAuthenticated: false,\n    login: async ()=>{},\n    register: async ()=>{},\n    logout: async ()=>{},\n    fetchCurrentUser: async ()=>null\n});\nconst AuthProvider = ({ children })=>{\n    const [user, setUser] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [isAuthenticated, setIsAuthenticated] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Function to fetch the current user from /users/me\n    const fetchCurrentUser = async ()=>{\n        try {\n            // All API calls are prepended with /api automatically\n            const response = await _utils_api__WEBPACK_IMPORTED_MODULE_3__.api.get(\"/users/me\", {\n                requiresAuth: true\n            });\n            console.log(\"AuthContext: Raw response from /users/me:\", response);\n            // Unwrap the user data from the nested 'data' object\n            const userData = response.data || response;\n            console.log(\"AuthContext: Unwrapped user data:\", userData);\n            setUser(userData);\n            return userData;\n        } catch (error) {\n            console.error(\"Error fetching current user:\", error);\n            return null;\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const initAuth = async ()=>{\n            setIsLoading(true);\n            try {\n                const isAuthValid = await (0,_utils_auth__WEBPACK_IMPORTED_MODULE_2__.checkAuth)();\n                setIsAuthenticated(isAuthValid);\n                if (isAuthValid) {\n                    // Fetch user data from /users/me endpoint\n                    await fetchCurrentUser();\n                }\n            } catch (error) {\n                setIsAuthenticated(false);\n                setUser(null);\n            } finally{\n                setIsLoading(false);\n            }\n        };\n        initAuth();\n    }, []);\n    const login = async (credentials)=>{\n        setIsLoading(true);\n        try {\n            const response = await (0,_utils_auth__WEBPACK_IMPORTED_MODULE_2__.login)(credentials);\n            setIsAuthenticated(true);\n            // Fetch the full user data from /users/me after login\n            await fetchCurrentUser();\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    const register = async (data)=>{\n        setIsLoading(true);\n        try {\n            const response = await (0,_utils_auth__WEBPACK_IMPORTED_MODULE_2__.register)(data);\n            setIsAuthenticated(true);\n            // Fetch the full user data from /users/me after registration\n            await fetchCurrentUser();\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    const logout = async ()=>{\n        setIsLoading(true);\n        try {\n            await (0,_utils_auth__WEBPACK_IMPORTED_MODULE_2__.logout)();\n            setUser(null);\n            setIsAuthenticated(false);\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(AuthContext.Provider, {\n        value: {\n            user,\n            isLoading,\n            isAuthenticated,\n            login,\n            register,\n            logout,\n            fetchCurrentUser\n        },\n        children: children\n    }, void 0, false, {\n        fileName: \"/Users/carolineennis/inkedin/inked-in-www/nextjs/contexts/AuthContext.tsx\",\n        lineNumber: 138,\n        columnNumber: 5\n    }, undefined);\n};\nconst useAuth = ()=>(0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(AuthContext);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb250ZXh0cy9BdXRoQ29udGV4dC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQXlGO0FBQ2tCO0FBQ3hFO0FBbUNuQyxNQUFNYSw0QkFBY1osb0RBQWFBLENBQWtCO0lBQ2pEYSxNQUFNO0lBQ05DLFdBQVc7SUFDWEMsaUJBQWlCO0lBQ2pCWCxPQUFPLFdBQWE7SUFDcEJFLFVBQVUsV0FBYTtJQUN2QkUsUUFBUSxXQUFhO0lBQ3JCUSxrQkFBa0IsVUFBWTtBQUNoQztBQU1PLE1BQU1DLGVBQTRDLENBQUMsRUFBRUMsUUFBUSxFQUFFO0lBQ3BFLE1BQU0sQ0FBQ0wsTUFBTU0sUUFBUSxHQUFHakIsK0NBQVFBLENBQWM7SUFDOUMsTUFBTSxDQUFDWSxXQUFXTSxhQUFhLEdBQUdsQiwrQ0FBUUEsQ0FBQztJQUMzQyxNQUFNLENBQUNhLGlCQUFpQk0sbUJBQW1CLEdBQUduQiwrQ0FBUUEsQ0FBQztJQUV2RCxvREFBb0Q7SUFDcEQsTUFBTWMsbUJBQW1CO1FBQ3ZCLElBQUk7WUFDRixzREFBc0Q7WUFDdEQsTUFBTU0sV0FBVyxNQUFNWCwyQ0FBR0EsQ0FBQ1ksR0FBRyxDQUFlLGFBQWE7Z0JBQUVDLGNBQWM7WUFBSztZQUUvRUMsUUFBUUMsR0FBRyxDQUFDLDZDQUE2Q0o7WUFFekQscURBQXFEO1lBQ3JELE1BQU1LLFdBQVdMLFNBQVNNLElBQUksSUFBSU47WUFFbENHLFFBQVFDLEdBQUcsQ0FBQyxxQ0FBcUNDO1lBRWpEUixRQUFRUTtZQUNSLE9BQU9BO1FBQ1QsRUFBRSxPQUFPRSxPQUFPO1lBQ2RKLFFBQVFJLEtBQUssQ0FBQyxnQ0FBZ0NBO1lBQzlDLE9BQU87UUFDVDtJQUNGO0lBRUExQixnREFBU0EsQ0FBQztRQUNSLE1BQU0yQixXQUFXO1lBQ2ZWLGFBQWE7WUFDYixJQUFJO2dCQUNGLE1BQU1XLGNBQWMsTUFBTXJCLHNEQUFTQTtnQkFDbkNXLG1CQUFtQlU7Z0JBRW5CLElBQUlBLGFBQWE7b0JBQ2YsMENBQTBDO29CQUMxQyxNQUFNZjtnQkFDUjtZQUNGLEVBQUUsT0FBT2EsT0FBTztnQkFDZFIsbUJBQW1CO2dCQUNuQkYsUUFBUTtZQUNWLFNBQVU7Z0JBQ1JDLGFBQWE7WUFDZjtRQUNGO1FBRUFVO0lBQ0YsR0FBRyxFQUFFO0lBRUwsTUFBTTFCLFFBQVEsT0FBTzRCO1FBQ25CWixhQUFhO1FBQ2IsSUFBSTtZQUNGLE1BQU1FLFdBQVcsTUFBTWpCLGtEQUFRQSxDQUFDMkI7WUFDaENYLG1CQUFtQjtZQUVuQixzREFBc0Q7WUFDdEQsTUFBTUw7UUFDUixTQUFVO1lBQ1JJLGFBQWE7UUFDZjtJQUNGO0lBRUEsTUFBTWQsV0FBVyxPQUFPc0I7UUFDdEJSLGFBQWE7UUFDYixJQUFJO1lBQ0YsTUFBTUUsV0FBVyxNQUFNZixxREFBV0EsQ0FBQ3FCO1lBQ25DUCxtQkFBbUI7WUFFbkIsNkRBQTZEO1lBQzdELE1BQU1MO1FBQ1IsU0FBVTtZQUNSSSxhQUFhO1FBQ2Y7SUFDRjtJQUVBLE1BQU1aLFNBQVM7UUFDYlksYUFBYTtRQUNiLElBQUk7WUFDRixNQUFNWCxtREFBU0E7WUFDZlUsUUFBUTtZQUNSRSxtQkFBbUI7UUFDckIsU0FBVTtZQUNSRCxhQUFhO1FBQ2Y7SUFDRjtJQUVBLHFCQUNFLDhEQUFDUixZQUFZcUIsUUFBUTtRQUNuQkMsT0FBTztZQUNMckI7WUFDQUM7WUFDQUM7WUFDQVg7WUFDQUU7WUFDQUU7WUFDQVE7UUFDRjtrQkFFQ0U7Ozs7OztBQUdQLEVBQUU7QUFFSyxNQUFNaUIsVUFBVSxJQUFNbEMsaURBQVVBLENBQUNXLGFBQWEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbmtlZGluLXdlYi8uL2NvbnRleHRzL0F1dGhDb250ZXh0LnRzeD82ZDgxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBjcmVhdGVDb250ZXh0LCB1c2VDb250ZXh0LCB1c2VTdGF0ZSwgdXNlRWZmZWN0LCBSZWFjdE5vZGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBsb2dpbiBhcyBhcGlMb2dpbiwgcmVnaXN0ZXIgYXMgYXBpUmVnaXN0ZXIsIGxvZ291dCBhcyBhcGlMb2dvdXQsIGNoZWNrQXV0aCB9IGZyb20gJy4uL3V0aWxzL2F1dGgnO1xuaW1wb3J0IHsgYXBpIH0gZnJvbSAnLi4vdXRpbHMvYXBpJztcblxuaW50ZXJmYWNlIFVzZXIge1xuICBpZDogbnVtYmVyO1xuICBmaXJzdF9uYW1lOiBzdHJpbmc7XG4gIGxhc3RfbmFtZTogc3RyaW5nO1xuICBlbWFpbDogc3RyaW5nO1xuICB1c2VybmFtZTogc3RyaW5nO1xuICAvLyBBZGQgbW9yZSB1c2VyIHByb3BlcnRpZXMgYXMgbmVlZGVkXG59XG5cbmludGVyZmFjZSBMb2dpbkNyZWRlbnRpYWxzIHtcbiAgZW1haWw6IHN0cmluZztcbiAgcGFzc3dvcmQ6IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIFJlZ2lzdGVyRGF0YSB7XG4gIGZpcnN0X25hbWU6IHN0cmluZztcbiAgbGFzdF9uYW1lOiBzdHJpbmc7XG4gIGVtYWlsOiBzdHJpbmc7XG4gIHVzZXJuYW1lOiBzdHJpbmc7XG4gIHBhc3N3b3JkOiBzdHJpbmc7XG4gIHBhc3N3b3JkX2NvbmZpcm1hdGlvbjogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgQXV0aENvbnRleHRUeXBlIHtcbiAgdXNlcjogVXNlciB8IG51bGw7XG4gIGlzTG9hZGluZzogYm9vbGVhbjtcbiAgaXNBdXRoZW50aWNhdGVkOiBib29sZWFuO1xuICBsb2dpbjogKGNyZWRlbnRpYWxzOiBMb2dpbkNyZWRlbnRpYWxzKSA9PiBQcm9taXNlPHZvaWQ+O1xuICByZWdpc3RlcjogKGRhdGE6IFJlZ2lzdGVyRGF0YSkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgbG9nb3V0OiAoKSA9PiBQcm9taXNlPHZvaWQ+O1xuICBmZXRjaEN1cnJlbnRVc2VyOiAoKSA9PiBQcm9taXNlPFVzZXIgfCBudWxsPjtcbn1cblxuY29uc3QgQXV0aENvbnRleHQgPSBjcmVhdGVDb250ZXh0PEF1dGhDb250ZXh0VHlwZT4oe1xuICB1c2VyOiBudWxsLFxuICBpc0xvYWRpbmc6IHRydWUsXG4gIGlzQXV0aGVudGljYXRlZDogZmFsc2UsXG4gIGxvZ2luOiBhc3luYyAoKSA9PiB7fSxcbiAgcmVnaXN0ZXI6IGFzeW5jICgpID0+IHt9LFxuICBsb2dvdXQ6IGFzeW5jICgpID0+IHt9LFxuICBmZXRjaEN1cnJlbnRVc2VyOiBhc3luYyAoKSA9PiBudWxsLFxufSk7XG5cbmludGVyZmFjZSBBdXRoUHJvdmlkZXJQcm9wcyB7XG4gIGNoaWxkcmVuOiBSZWFjdE5vZGU7XG59XG5cbmV4cG9ydCBjb25zdCBBdXRoUHJvdmlkZXI6IFJlYWN0LkZDPEF1dGhQcm92aWRlclByb3BzPiA9ICh7IGNoaWxkcmVuIH0pID0+IHtcbiAgY29uc3QgW3VzZXIsIHNldFVzZXJdID0gdXNlU3RhdGU8VXNlciB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtpc0F1dGhlbnRpY2F0ZWQsIHNldElzQXV0aGVudGljYXRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgLy8gRnVuY3Rpb24gdG8gZmV0Y2ggdGhlIGN1cnJlbnQgdXNlciBmcm9tIC91c2Vycy9tZVxuICBjb25zdCBmZXRjaEN1cnJlbnRVc2VyID0gYXN5bmMgKCk6IFByb21pc2U8VXNlciB8IG51bGw+ID0+IHtcbiAgICB0cnkge1xuICAgICAgLy8gQWxsIEFQSSBjYWxscyBhcmUgcHJlcGVuZGVkIHdpdGggL2FwaSBhdXRvbWF0aWNhbGx5XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaS5nZXQ8e2RhdGE6IFVzZXJ9PignL3VzZXJzL21lJywgeyByZXF1aXJlc0F1dGg6IHRydWUgfSk7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCdBdXRoQ29udGV4dDogUmF3IHJlc3BvbnNlIGZyb20gL3VzZXJzL21lOicsIHJlc3BvbnNlKTtcbiAgICAgIFxuICAgICAgLy8gVW53cmFwIHRoZSB1c2VyIGRhdGEgZnJvbSB0aGUgbmVzdGVkICdkYXRhJyBvYmplY3RcbiAgICAgIGNvbnN0IHVzZXJEYXRhID0gcmVzcG9uc2UuZGF0YSB8fCByZXNwb25zZTtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coJ0F1dGhDb250ZXh0OiBVbndyYXBwZWQgdXNlciBkYXRhOicsIHVzZXJEYXRhKTtcbiAgICAgIFxuICAgICAgc2V0VXNlcih1c2VyRGF0YSk7XG4gICAgICByZXR1cm4gdXNlckRhdGE7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGN1cnJlbnQgdXNlcjonLCBlcnJvcik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBpbml0QXV0aCA9IGFzeW5jICgpID0+IHtcbiAgICAgIHNldElzTG9hZGluZyh0cnVlKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGlzQXV0aFZhbGlkID0gYXdhaXQgY2hlY2tBdXRoKCk7XG4gICAgICAgIHNldElzQXV0aGVudGljYXRlZChpc0F1dGhWYWxpZCk7XG4gICAgICAgIFxuICAgICAgICBpZiAoaXNBdXRoVmFsaWQpIHtcbiAgICAgICAgICAvLyBGZXRjaCB1c2VyIGRhdGEgZnJvbSAvdXNlcnMvbWUgZW5kcG9pbnRcbiAgICAgICAgICBhd2FpdCBmZXRjaEN1cnJlbnRVc2VyKCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHNldElzQXV0aGVudGljYXRlZChmYWxzZSk7XG4gICAgICAgIHNldFVzZXIobnVsbCk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpbml0QXV0aCgpO1xuICB9LCBbXSk7XG5cbiAgY29uc3QgbG9naW4gPSBhc3luYyAoY3JlZGVudGlhbHM6IExvZ2luQ3JlZGVudGlhbHMpID0+IHtcbiAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpTG9naW4oY3JlZGVudGlhbHMpO1xuICAgICAgc2V0SXNBdXRoZW50aWNhdGVkKHRydWUpO1xuICAgICAgXG4gICAgICAvLyBGZXRjaCB0aGUgZnVsbCB1c2VyIGRhdGEgZnJvbSAvdXNlcnMvbWUgYWZ0ZXIgbG9naW5cbiAgICAgIGF3YWl0IGZldGNoQ3VycmVudFVzZXIoKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgcmVnaXN0ZXIgPSBhc3luYyAoZGF0YTogUmVnaXN0ZXJEYXRhKSA9PiB7XG4gICAgc2V0SXNMb2FkaW5nKHRydWUpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaVJlZ2lzdGVyKGRhdGEpO1xuICAgICAgc2V0SXNBdXRoZW50aWNhdGVkKHRydWUpO1xuICAgICAgXG4gICAgICAvLyBGZXRjaCB0aGUgZnVsbCB1c2VyIGRhdGEgZnJvbSAvdXNlcnMvbWUgYWZ0ZXIgcmVnaXN0cmF0aW9uXG4gICAgICBhd2FpdCBmZXRjaEN1cnJlbnRVc2VyKCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGxvZ291dCA9IGFzeW5jICgpID0+IHtcbiAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGFwaUxvZ291dCgpO1xuICAgICAgc2V0VXNlcihudWxsKTtcbiAgICAgIHNldElzQXV0aGVudGljYXRlZChmYWxzZSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPEF1dGhDb250ZXh0LlByb3ZpZGVyXG4gICAgICB2YWx1ZT17e1xuICAgICAgICB1c2VyLFxuICAgICAgICBpc0xvYWRpbmcsXG4gICAgICAgIGlzQXV0aGVudGljYXRlZCxcbiAgICAgICAgbG9naW4sXG4gICAgICAgIHJlZ2lzdGVyLFxuICAgICAgICBsb2dvdXQsXG4gICAgICAgIGZldGNoQ3VycmVudFVzZXIsXG4gICAgICB9fVxuICAgID5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L0F1dGhDb250ZXh0LlByb3ZpZGVyPlxuICApO1xufTtcblxuZXhwb3J0IGNvbnN0IHVzZUF1dGggPSAoKSA9PiB1c2VDb250ZXh0KEF1dGhDb250ZXh0KTsiXSwibmFtZXMiOlsiUmVhY3QiLCJjcmVhdGVDb250ZXh0IiwidXNlQ29udGV4dCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwibG9naW4iLCJhcGlMb2dpbiIsInJlZ2lzdGVyIiwiYXBpUmVnaXN0ZXIiLCJsb2dvdXQiLCJhcGlMb2dvdXQiLCJjaGVja0F1dGgiLCJhcGkiLCJBdXRoQ29udGV4dCIsInVzZXIiLCJpc0xvYWRpbmciLCJpc0F1dGhlbnRpY2F0ZWQiLCJmZXRjaEN1cnJlbnRVc2VyIiwiQXV0aFByb3ZpZGVyIiwiY2hpbGRyZW4iLCJzZXRVc2VyIiwic2V0SXNMb2FkaW5nIiwic2V0SXNBdXRoZW50aWNhdGVkIiwicmVzcG9uc2UiLCJnZXQiLCJyZXF1aXJlc0F1dGgiLCJjb25zb2xlIiwibG9nIiwidXNlckRhdGEiLCJkYXRhIiwiZXJyb3IiLCJpbml0QXV0aCIsImlzQXV0aFZhbGlkIiwiY3JlZGVudGlhbHMiLCJQcm92aWRlciIsInZhbHVlIiwidXNlQXV0aCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./contexts/AuthContext.tsx\n");

/***/ }),

/***/ "./contexts/StyleContext.tsx":
/*!***********************************!*\
  !*** ./contexts/StyleContext.tsx ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StyleProvider: () => (/* binding */ StyleProvider),\n/* harmony export */   useStyles: () => (/* binding */ useStyles)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _utils_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/api */ \"./utils/api.ts\");\n\n\n\nconst StyleContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)({\n    styles: [],\n    loading: false,\n    error: null,\n    getStyleName: ()=>\"\"\n});\n// Provider component\nconst StyleProvider = ({ children })=>{\n    const [styles, setStyles] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let isMounted = true;\n        // Cache key for styles in localStorage\n        const STYLES_CACHE_KEY = \"styles_cache\";\n        // Try to load styles from localStorage first for instant display\n        const tryLoadFromCache = ()=>{\n            if (false) {}\n            return false;\n        };\n        // Save styles to localStorage\n        const saveToCache = (stylesData)=>{\n            if (false) {}\n        };\n        const fetchStyles = async ()=>{\n            // If we loaded from cache, don't show loading state\n            if (!tryLoadFromCache()) {\n                setLoading(true);\n            }\n            try {\n                // Get styles with caching enabled\n                const response = await _utils_api__WEBPACK_IMPORTED_MODULE_2__.api.get(\"/styles\", {\n                    useCache: true,\n                    cacheTTL: 24 * 60 * 60 * 1000 // 24 hours TTL (styles rarely change)\n                });\n                if (!isMounted) return;\n                if (response.styles) {\n                    setStyles(response.styles);\n                    saveToCache(response.styles);\n                }\n            } catch (err) {\n                if (!isMounted) return;\n                console.error(\"Error fetching styles\", err);\n                setError(\"Failed to load styles\");\n            } finally{\n                if (isMounted) {\n                    setLoading(false);\n                }\n            }\n        };\n        fetchStyles();\n        return ()=>{\n            isMounted = false;\n        };\n    }, []);\n    // Function to get style name by ID\n    const getStyleName = (id)=>{\n        const style = styles.find((s)=>s.id === id);\n        return style ? style.name : \"Unknown Style\";\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(StyleContext.Provider, {\n        value: {\n            styles,\n            loading,\n            error,\n            getStyleName\n        },\n        children: children\n    }, void 0, false, {\n        fileName: \"/Users/carolineennis/inkedin/inked-in-www/nextjs/contexts/StyleContext.tsx\",\n        lineNumber: 121,\n        columnNumber: 5\n    }, undefined);\n};\n// Hook to use the style context\nconst useStyles = ()=>(0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(StyleContext);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb250ZXh0cy9TdHlsZUNvbnRleHQudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXlGO0FBQ3REO0FBZ0JuQyxNQUFNTSw2QkFBZUwsb0RBQWFBLENBQW1CO0lBQ25ETSxRQUFRLEVBQUU7SUFDVkMsU0FBUztJQUNUQyxPQUFPO0lBQ1BDLGNBQWMsSUFBTTtBQUN0QjtBQUVBLHFCQUFxQjtBQUNkLE1BQU1DLGdCQUFtRCxDQUFDLEVBQUVDLFFBQVEsRUFBRTtJQUMzRSxNQUFNLENBQUNMLFFBQVFNLFVBQVUsR0FBR1YsK0NBQVFBLENBQVUsRUFBRTtJQUNoRCxNQUFNLENBQUNLLFNBQVNNLFdBQVcsR0FBR1gsK0NBQVFBLENBQVU7SUFDaEQsTUFBTSxDQUFDTSxPQUFPTSxTQUFTLEdBQUdaLCtDQUFRQSxDQUFnQjtJQUVsREMsZ0RBQVNBLENBQUM7UUFDUixJQUFJWSxZQUFZO1FBRWhCLHVDQUF1QztRQUN2QyxNQUFNQyxtQkFBbUI7UUFFekIsaUVBQWlFO1FBQ2pFLE1BQU1DLG1CQUFtQjtZQUN2QixJQUFJLEtBQWtCLEVBQWEsRUFvQmxDO1lBQ0QsT0FBTztRQUNUO1FBRUEsOEJBQThCO1FBQzlCLE1BQU1rQixjQUFjLENBQUNkO1lBQ25CLElBQUksS0FBa0IsRUFBYSxFQVNsQztRQUNIO1FBRUEsTUFBTWlCLGNBQWM7WUFDbEIsb0RBQW9EO1lBQ3BELElBQUksQ0FBQ3JCLG9CQUFvQjtnQkFDdkJKLFdBQVc7WUFDYjtZQUVBLElBQUk7Z0JBQ0Ysa0NBQWtDO2dCQUNsQyxNQUFNMEIsV0FBVyxNQUFNbkMsMkNBQUdBLENBQUNvQyxHQUFHLENBQXNCLFdBQVc7b0JBQzdEQyxVQUFVO29CQUNWWCxVQUFVLEtBQUssS0FBSyxLQUFLLEtBQUssc0NBQXNDO2dCQUN0RTtnQkFFQSxJQUFJLENBQUNmLFdBQVc7Z0JBRWhCLElBQUl3QixTQUFTakMsTUFBTSxFQUFFO29CQUNuQk0sVUFBVTJCLFNBQVNqQyxNQUFNO29CQUN6QjZCLFlBQVlJLFNBQVNqQyxNQUFNO2dCQUM3QjtZQUNGLEVBQUUsT0FBTzBCLEtBQUs7Z0JBQ1osSUFBSSxDQUFDakIsV0FBVztnQkFDaEJrQixRQUFRekIsS0FBSyxDQUFDLHlCQUF5QndCO2dCQUN2Q2xCLFNBQVM7WUFDWCxTQUFVO2dCQUNSLElBQUlDLFdBQVc7b0JBQ2JGLFdBQVc7Z0JBQ2I7WUFDRjtRQUNGO1FBRUF5QjtRQUVBLE9BQU87WUFDTHZCLFlBQVk7UUFDZDtJQUNGLEdBQUcsRUFBRTtJQUVMLG1DQUFtQztJQUNuQyxNQUFNTixlQUFlLENBQUNpQztRQUNwQixNQUFNQyxRQUFRckMsT0FBT3NDLElBQUksQ0FBQ0MsQ0FBQUEsSUFBS0EsRUFBRUgsRUFBRSxLQUFLQTtRQUN4QyxPQUFPQyxRQUFRQSxNQUFNRyxJQUFJLEdBQUc7SUFDOUI7SUFFQSxxQkFDRSw4REFBQ3pDLGFBQWEwQyxRQUFRO1FBQ3BCQyxPQUFPO1lBQ0wxQztZQUNBQztZQUNBQztZQUNBQztRQUNGO2tCQUVDRTs7Ozs7O0FBR1AsRUFBRTtBQUVGLGdDQUFnQztBQUN6QixNQUFNc0MsWUFBWSxJQUFNaEQsaURBQVVBLENBQUNJLGNBQWMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbmtlZGluLXdlYi8uL2NvbnRleHRzL1N0eWxlQ29udGV4dC50c3g/Mjk2MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCwgdXNlU3RhdGUsIHVzZUVmZmVjdCwgUmVhY3ROb2RlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgYXBpIH0gZnJvbSAnLi4vdXRpbHMvYXBpJztcblxuLy8gRGVmaW5lIGludGVyZmFjZSBmb3Igc3R5bGUgZGF0YVxuaW50ZXJmYWNlIFN0eWxlIHtcbiAgaWQ6IG51bWJlcjtcbiAgbmFtZTogc3RyaW5nO1xuICBkZXNjcmlwdGlvbj86IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIFN0eWxlQ29udGV4dFR5cGUge1xuICBzdHlsZXM6IFN0eWxlW107XG4gIGxvYWRpbmc6IGJvb2xlYW47XG4gIGVycm9yOiBzdHJpbmcgfCBudWxsO1xuICBnZXRTdHlsZU5hbWU6IChpZDogbnVtYmVyKSA9PiBzdHJpbmc7XG59XG5cbmNvbnN0IFN0eWxlQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8U3R5bGVDb250ZXh0VHlwZT4oe1xuICBzdHlsZXM6IFtdLFxuICBsb2FkaW5nOiBmYWxzZSxcbiAgZXJyb3I6IG51bGwsXG4gIGdldFN0eWxlTmFtZTogKCkgPT4gJycsXG59KTtcblxuLy8gUHJvdmlkZXIgY29tcG9uZW50XG5leHBvcnQgY29uc3QgU3R5bGVQcm92aWRlcjogUmVhY3QuRkM8eyBjaGlsZHJlbjogUmVhY3ROb2RlIH0+ID0gKHsgY2hpbGRyZW4gfSkgPT4ge1xuICBjb25zdCBbc3R5bGVzLCBzZXRTdHlsZXNdID0gdXNlU3RhdGU8U3R5bGVbXT4oW10pO1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZTxib29sZWFuPih0cnVlKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBpc01vdW50ZWQgPSB0cnVlO1xuICAgIFxuICAgIC8vIENhY2hlIGtleSBmb3Igc3R5bGVzIGluIGxvY2FsU3RvcmFnZVxuICAgIGNvbnN0IFNUWUxFU19DQUNIRV9LRVkgPSAnc3R5bGVzX2NhY2hlJztcbiAgICBcbiAgICAvLyBUcnkgdG8gbG9hZCBzdHlsZXMgZnJvbSBsb2NhbFN0b3JhZ2UgZmlyc3QgZm9yIGluc3RhbnQgZGlzcGxheVxuICAgIGNvbnN0IHRyeUxvYWRGcm9tQ2FjaGUgPSAoKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBjYWNoZWRTdHlsZXMgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShTVFlMRVNfQ0FDSEVfS0VZKTtcbiAgICAgICAgICBpZiAoY2FjaGVkU3R5bGVzKSB7XG4gICAgICAgICAgICBjb25zdCBzdHlsZXNEYXRhID0gSlNPTi5wYXJzZShjYWNoZWRTdHlsZXMpO1xuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgY2FjaGUgaXMgc3RpbGwgdmFsaWQgKGxlc3MgdGhhbiAyNCBob3VycyBvbGQpXG4gICAgICAgICAgICBjb25zdCBjYWNoZVRpbWUgPSBzdHlsZXNEYXRhLnRpbWVzdGFtcCB8fCAwO1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgY29uc3QgY2FjaGVBZ2UgPSBjdXJyZW50VGltZSAtIGNhY2hlVGltZTtcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlVFRMID0gMjQgKiA2MCAqIDYwICogMTAwMDsgLy8gMjQgaG91cnNcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGNhY2hlQWdlIDwgY2FjaGVUVEwgJiYgc3R5bGVzRGF0YS5zdHlsZXMgJiYgc3R5bGVzRGF0YS5zdHlsZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICBzZXRTdHlsZXMoc3R5bGVzRGF0YS5zdHlsZXMpO1xuICAgICAgICAgICAgICAvLyBTdGlsbCBmZXRjaCBmcmVzaCBkYXRhIGluIHRoZSBiYWNrZ3JvdW5kLCBidXQgbm8gbmVlZCB0byBzaG93IGxvYWRpbmdcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ0Vycm9yIHJlYWRpbmcgc3R5bGVzIGZyb20gY2FjaGUnLCBlcnIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBcbiAgICAvLyBTYXZlIHN0eWxlcyB0byBsb2NhbFN0b3JhZ2VcbiAgICBjb25zdCBzYXZlVG9DYWNoZSA9IChzdHlsZXNEYXRhOiBTdHlsZVtdKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShTVFlMRVNfQ0FDSEVfS0VZLCBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICBzdHlsZXM6IHN0eWxlc0RhdGEsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KClcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUud2FybignRXJyb3Igc2F2aW5nIHN0eWxlcyB0byBjYWNoZScsIGVycik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IGZldGNoU3R5bGVzID0gYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gSWYgd2UgbG9hZGVkIGZyb20gY2FjaGUsIGRvbid0IHNob3cgbG9hZGluZyBzdGF0ZVxuICAgICAgaWYgKCF0cnlMb2FkRnJvbUNhY2hlKCkpIHtcbiAgICAgICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gR2V0IHN0eWxlcyB3aXRoIGNhY2hpbmcgZW5hYmxlZFxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaS5nZXQ8eyBzdHlsZXM6IFN0eWxlW10gfT4oJy9zdHlsZXMnLCB7XG4gICAgICAgICAgdXNlQ2FjaGU6IHRydWUsXG4gICAgICAgICAgY2FjaGVUVEw6IDI0ICogNjAgKiA2MCAqIDEwMDAgLy8gMjQgaG91cnMgVFRMIChzdHlsZXMgcmFyZWx5IGNoYW5nZSlcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBpZiAoIWlzTW91bnRlZCkgcmV0dXJuO1xuICAgICAgICBcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0eWxlcykge1xuICAgICAgICAgIHNldFN0eWxlcyhyZXNwb25zZS5zdHlsZXMpO1xuICAgICAgICAgIHNhdmVUb0NhY2hlKHJlc3BvbnNlLnN0eWxlcyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBpZiAoIWlzTW91bnRlZCkgcmV0dXJuO1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBzdHlsZXMnLCBlcnIpO1xuICAgICAgICBzZXRFcnJvcignRmFpbGVkIHRvIGxvYWQgc3R5bGVzJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoaXNNb3VudGVkKSB7XG4gICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIGZldGNoU3R5bGVzKCk7XG4gICAgXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlzTW91bnRlZCA9IGZhbHNlO1xuICAgIH07XG4gIH0sIFtdKTtcblxuICAvLyBGdW5jdGlvbiB0byBnZXQgc3R5bGUgbmFtZSBieSBJRFxuICBjb25zdCBnZXRTdHlsZU5hbWUgPSAoaWQ6IG51bWJlcik6IHN0cmluZyA9PiB7XG4gICAgY29uc3Qgc3R5bGUgPSBzdHlsZXMuZmluZChzID0+IHMuaWQgPT09IGlkKTtcbiAgICByZXR1cm4gc3R5bGUgPyBzdHlsZS5uYW1lIDogJ1Vua25vd24gU3R5bGUnO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPFN0eWxlQ29udGV4dC5Qcm92aWRlclxuICAgICAgdmFsdWU9e3tcbiAgICAgICAgc3R5bGVzLFxuICAgICAgICBsb2FkaW5nLFxuICAgICAgICBlcnJvcixcbiAgICAgICAgZ2V0U3R5bGVOYW1lLFxuICAgICAgfX1cbiAgICA+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9TdHlsZUNvbnRleHQuUHJvdmlkZXI+XG4gICk7XG59O1xuXG4vLyBIb29rIHRvIHVzZSB0aGUgc3R5bGUgY29udGV4dFxuZXhwb3J0IGNvbnN0IHVzZVN0eWxlcyA9ICgpID0+IHVzZUNvbnRleHQoU3R5bGVDb250ZXh0KTsiXSwibmFtZXMiOlsiUmVhY3QiLCJjcmVhdGVDb250ZXh0IiwidXNlQ29udGV4dCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiYXBpIiwiU3R5bGVDb250ZXh0Iiwic3R5bGVzIiwibG9hZGluZyIsImVycm9yIiwiZ2V0U3R5bGVOYW1lIiwiU3R5bGVQcm92aWRlciIsImNoaWxkcmVuIiwic2V0U3R5bGVzIiwic2V0TG9hZGluZyIsInNldEVycm9yIiwiaXNNb3VudGVkIiwiU1RZTEVTX0NBQ0hFX0tFWSIsInRyeUxvYWRGcm9tQ2FjaGUiLCJjYWNoZWRTdHlsZXMiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwic3R5bGVzRGF0YSIsIkpTT04iLCJwYXJzZSIsImNhY2hlVGltZSIsInRpbWVzdGFtcCIsImN1cnJlbnRUaW1lIiwiRGF0ZSIsIm5vdyIsImNhY2hlQWdlIiwiY2FjaGVUVEwiLCJsZW5ndGgiLCJlcnIiLCJjb25zb2xlIiwid2FybiIsInNhdmVUb0NhY2hlIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsImZldGNoU3R5bGVzIiwicmVzcG9uc2UiLCJnZXQiLCJ1c2VDYWNoZSIsImlkIiwic3R5bGUiLCJmaW5kIiwicyIsIm5hbWUiLCJQcm92aWRlciIsInZhbHVlIiwidXNlU3R5bGVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./contexts/StyleContext.tsx\n");

/***/ }),

/***/ "./contexts/UserContext.tsx":
/*!**********************************!*\
  !*** ./contexts/UserContext.tsx ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   UserProvider: () => (/* binding */ UserProvider),\n/* harmony export */   useUser: () => (/* binding */ useUser),\n/* harmony export */   useUserData: () => (/* binding */ useUserData)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _utils_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/api */ \"./utils/api.ts\");\n\n\n\nconst UserContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)({\n    userData: {},\n    loading: false,\n    error: null,\n    updateUser: async ()=>{},\n    updateStyles: async ()=>{},\n    toggleFavorite: async ()=>{},\n    logout: ()=>{}\n});\n// Helper functions\nconst USER_STORAGE_KEY = \"user_data\";\nconst USER_ID_KEY = \"user_id\";\nconst loadUserFromStorage = ()=>{\n    if (true) return {};\n    try {\n        const userData = localStorage.getItem(USER_STORAGE_KEY);\n        return userData ? JSON.parse(userData) : {};\n    } catch (e) {\n        console.error(\"Error loading user data from storage\", e);\n        return {};\n    }\n};\nconst saveUserToStorage = (data)=>{\n    if (true) return;\n    try {\n        localStorage.setItem(USER_STORAGE_KEY, JSON.stringify(data));\n        if (data.id) {\n            localStorage.setItem(USER_ID_KEY, data.id.toString());\n        }\n    } catch (e) {\n        console.error(\"Error saving user data to storage\", e);\n    }\n};\n// Provider component\nconst UserProvider = ({ children })=>{\n    const [userData, setUserData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(loadUserFromStorage());\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Load user data when component mounts\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Flag to prevent memory leaks if component unmounts during fetch\n        let isMounted = true;\n        const fetchUserData = async ()=>{\n            // Check if we have a user ID stored\n            const userId = localStorage.getItem(USER_ID_KEY);\n            console.log(\"UserContext: Found user ID in localStorage:\", userId);\n            // First, check if we have cached userData in localStorage\n            const cachedUserData = loadUserFromStorage();\n            if (cachedUserData && cachedUserData.id) {\n                // If we have cached data, use it initially\n                console.log(\"UserContext: Using cached user data with ID:\", cachedUserData.id);\n                setUserData(cachedUserData);\n            // Still set loading to true to indicate we're refreshing in the background\n            // but the UI can already use the cached data\n            }\n            // Set loading state only if we don't have cached data\n            if (!cachedUserData || !cachedUserData.id) {\n                setLoading(true);\n            }\n            try {\n                // STRATEGY 1: First try with specific user ID if available (most reliable)\n                if (userId) {\n                    try {\n                        console.log(`UserContext: Fetching specific user data for ID ${userId}`);\n                        const directResponse = await _utils_api__WEBPACK_IMPORTED_MODULE_2__.api.get(`/users/${userId}`, {\n                            requiresAuth: true,\n                            useCache: false\n                        });\n                        // If component unmounted during fetch, don't update state\n                        if (!isMounted) return;\n                        if (directResponse) {\n                            // API might return data in different formats\n                            const directUserData = directResponse.data || directResponse.user || directResponse;\n                            console.log(\"UserContext: Successfully fetched user by ID:\", userId);\n                            // Ensure the ID is correctly set\n                            directUserData.id = Number(userId);\n                            // Update state and storage\n                            setUserData(directUserData);\n                            saveUserToStorage(directUserData);\n                            setLoading(false);\n                            return; // Successfully fetched by ID\n                        }\n                    } catch (idErr) {\n                        console.error(`UserContext: Failed to fetch user with ID ${userId}:`, idErr);\n                    // Continue to next strategy\n                    }\n                }\n                // STRATEGY 2: Try the /users/me endpoint\n                try {\n                    console.log(\"UserContext: Fetching user data from /api/users/me\");\n                    const response = await _utils_api__WEBPACK_IMPORTED_MODULE_2__.api.get(\"/users/me\", {\n                        requiresAuth: true,\n                        useCache: false\n                    });\n                    // If component unmounted during fetch, don't update state\n                    if (!isMounted) return;\n                    // Unwrap the user data from the nested 'data' object\n                    const userData = response.data || response;\n                    console.log(\"UserContext: User data received from /users/me\");\n                    if (userData) {\n                        setUserData(userData);\n                        saveUserToStorage(userData);\n                        setLoading(false);\n                        return; // Successfully fetched from /users/me\n                    }\n                } catch (meErr) {\n                    // If component unmounted during fetch, don't update state\n                    if (!isMounted) return;\n                    console.log(\"UserContext: Failed to fetch from /api/users/me:\", meErr);\n                // Continue to fallback strategy\n                }\n                // FALLBACK STRATEGY: If both approaches failed but we have cached data, keep using it\n                if (cachedUserData && cachedUserData.id) {\n                    console.log(\"UserContext: Using only cached data as fallback\");\n                // No need to update state as we already set it above\n                } else {\n                    // We have no data at all\n                    console.error(\"UserContext: Failed to load user data from any source\");\n                    setError(\"Failed to load user data\");\n                }\n            } finally{\n                // If component unmounted during fetch, don't update state\n                if (isMounted) {\n                    setLoading(false);\n                }\n            }\n        };\n        fetchUserData();\n        // Clean up function to prevent memory leaks\n        return ()=>{\n            isMounted = false;\n        };\n    }, []);\n    // Update user data\n    const updateUser = async (data)=>{\n        if (!userData.id) {\n            setError(\"User is not logged in\");\n            return;\n        }\n        setLoading(true);\n        try {\n            // Get current auth token\n            const authToken = localStorage.getItem(\"auth_token\");\n            if (!authToken) {\n                console.warn(\"No auth token found when trying to update user\");\n                throw new Error(\"Authentication required\");\n            }\n            // Make API call with explicit auth token in options\n            const response = await _utils_api__WEBPACK_IMPORTED_MODULE_2__.api.put(`/users/${userData.id}`, data, {\n                requiresAuth: true,\n                headers: {\n                    \"Authorization\": `Bearer ${authToken}`\n                }\n            });\n            if (response.user) {\n                setUserData(response.user);\n                saveUserToStorage(response.user);\n            } else if (response) {\n                // API might return the user directly without nesting in user property\n                const updatedData = response.data || response;\n                setUserData(updatedData);\n                saveUserToStorage(updatedData);\n            }\n        } catch (err) {\n            console.error(\"Error updating user\", err);\n            setError(\"Failed to update user data\");\n            throw err;\n        } finally{\n            setLoading(false);\n        }\n    };\n    // Update user styles\n    const updateStyles = async (styles)=>{\n        return updateUser({\n            styles\n        });\n    };\n    // Toggle favorite for an artist or tattoo\n    const toggleFavorite = async (type, id)=>{\n        if (!userData.id) {\n            setError(\"User is not logged in\");\n            return;\n        }\n        setLoading(true);\n        try {\n            // Get current auth token\n            const authToken = localStorage.getItem(\"auth_token\");\n            if (!authToken) {\n                console.warn(\"No auth token found when trying to update favorites\");\n                throw new Error(\"Authentication required\");\n            }\n            // Initialize favorites structure if it doesn't exist\n            const currentFavorites = userData.favorites || {\n                artists: [],\n                tattoos: []\n            };\n            const currentTypeList = currentFavorites[type] || [];\n            // Check if item is already in favorites\n            const isAlreadyFavorite = currentTypeList.includes(id);\n            // Update favorite list \n            let updatedFavorites;\n            if (isAlreadyFavorite) {\n                // Remove from favorites\n                updatedFavorites = {\n                    ...currentFavorites,\n                    [type]: currentTypeList.filter((itemId)=>itemId !== id)\n                };\n            } else {\n                // Add to favorites\n                updatedFavorites = {\n                    ...currentFavorites,\n                    [type]: [\n                        ...currentTypeList,\n                        id\n                    ]\n                };\n            }\n            // Perform API call to update favorites on the server with explicit token\n            await _utils_api__WEBPACK_IMPORTED_MODULE_2__.api.post(`/users/favorites/${type}`, {\n                ids: id,\n                action: isAlreadyFavorite ? \"remove\" : \"add\"\n            }, {\n                requiresAuth: true,\n                headers: {\n                    \"Authorization\": `Bearer ${authToken}`\n                }\n            });\n            // Update local state\n            const updatedUserData = {\n                ...userData,\n                favorites: updatedFavorites\n            };\n            setUserData(updatedUserData);\n            saveUserToStorage(updatedUserData);\n            console.log(`${isAlreadyFavorite ? \"Removed from\" : \"Added to\"} favorites: ${type} with ID ${id}`);\n        } catch (err) {\n            console.error(\"Error updating favorites\", err);\n            setError(\"Failed to update favorites\");\n            throw err;\n        } finally{\n            setLoading(false);\n        }\n    };\n    // Logout user\n    const logout = ()=>{\n        // Clear user data in state\n        setUserData({});\n        if (false) {}\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(UserContext.Provider, {\n        value: {\n            userData,\n            loading,\n            error,\n            updateUser,\n            updateStyles,\n            toggleFavorite,\n            logout\n        },\n        children: children\n    }, void 0, false, {\n        fileName: \"/Users/carolineennis/inkedin/inked-in-www/nextjs/contexts/UserContext.tsx\",\n        lineNumber: 373,\n        columnNumber: 5\n    }, undefined);\n};\n// Hook to use the user context\nconst useUser = ()=>(0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(UserContext);\n// Hook to directly get user data as the return value, with update methods as properties\nconst useUserData = ()=>{\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(UserContext);\n    // Create a merged object that is both the user data AND has the methods\n    const enhancedUserData = {\n        ...context.userData,\n        updateUser: context.updateUser,\n        updateStyles: context.updateStyles,\n        toggleFavorite: context.toggleFavorite,\n        logout: context.logout,\n        loading: context.loading,\n        error: context.error,\n        // Special accessor to get the \"clean\" data without the methods\n        _data: context.userData\n    };\n    return enhancedUserData;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q29udGV4dC50c3g/ZjU5MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCwgdXNlU3RhdGUsIHVzZUVmZmVjdCwgUmVhY3ROb2RlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgYXBpIH0gZnJvbSAnLi4vdXRpbHMvYXBpJztcblxuLy8gRGVmaW5lIGludGVyZmFjZXMgZm9yIG91ciB1c2VyIGRhdGFcbmludGVyZmFjZSBVc2VyRGF0YSB7XG4gIGlkPzogbnVtYmVyO1xuICBuYW1lPzogc3RyaW5nO1xuICBlbWFpbD86IHN0cmluZztcbiAgc3R5bGVzPzogbnVtYmVyW107XG4gIHBob25lPzogc3RyaW5nO1xuICBsb2NhdGlvbj86IHN0cmluZztcbiAgbG9jYXRpb25feD86IG51bWJlcjtcbiAgbG9jYXRpb25feT86IG51bWJlcjtcbiAgaW1hZ2U/OiBzdHJpbmc7XG4gIGZhdm9yaXRlcz86IHtcbiAgICBhcnRpc3Q/OiBudW1iZXJbXTtcbiAgICB0YXR0b28/OiBudW1iZXJbXTtcbiAgICBzdHVkaW8/OiBudW1iZXJbXTtcbiAgfTtcbiAgcHJvZmlsZVBob3RvPzoge1xuICAgIGZpbGVwYXRoPzogc3RyaW5nO1xuICAgIHdlYnZpZXdQYXRoPzogc3RyaW5nO1xuICB9O1xufVxuXG4vLyBUeXBlIGZvciB0aGUgZW5oYW5jZWQgdXNlciBkYXRhIHJldHVybmVkIGJ5IHVzZVVzZXJEYXRhIGhvb2tcbmludGVyZmFjZSBFbmhhbmNlZFVzZXJEYXRhIGV4dGVuZHMgVXNlckRhdGEge1xuICBsb2NhdGlvbl9sYXRfbG9uZzogYW55O1xuICB1cGRhdGVVc2VyOiAoZGF0YTogUGFydGlhbDxVc2VyRGF0YT4pID0+IFByb21pc2U8dm9pZD47XG4gIHVwZGF0ZVN0eWxlczogKHN0eWxlczogbnVtYmVyW10pID0+IFByb21pc2U8dm9pZD47XG4gIHRvZ2dsZUZhdm9yaXRlOiAodHlwZTogXCJhcnRpc3RcIiB8IFwidGF0dG9vIHwgc3R1ZGlvXCIsIGlkOiBudW1iZXIgfCB1bmRlZmluZWQpID0+IFByb21pc2U8dm9pZD47XG4gIGxvZ291dDogKCkgPT4gdm9pZDtcbiAgbG9hZGluZzogYm9vbGVhbjtcbiAgZXJyb3I6IHN0cmluZyB8IG51bGw7XG4gIF9kYXRhOiBVc2VyRGF0YTsgLy8gQ2xlYW4gZGF0YSB3aXRob3V0IG1ldGhvZHNcbn1cblxuaW50ZXJmYWNlIFVzZXJDb250ZXh0VHlwZSB7XG4gIHVzZXJEYXRhOiBVc2VyRGF0YTtcbiAgbG9hZGluZzogYm9vbGVhbjtcbiAgZXJyb3I6IHN0cmluZyB8IG51bGw7XG4gIHVwZGF0ZVVzZXI6IChkYXRhOiBQYXJ0aWFsPFVzZXJEYXRhPikgPT4gUHJvbWlzZTx2b2lkPjtcbiAgdXBkYXRlU3R5bGVzOiAoc3R5bGVzOiBudW1iZXJbXSkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgdG9nZ2xlRmF2b3JpdGU6ICh0eXBlOiAnYXJ0aXN0JyB8ICd0YXR0b28gfCAgc3R1ZGlvJywgaWQ6IG51bWJlcikgPT4gUHJvbWlzZTx2b2lkPjtcbiAgbG9nb3V0OiAoKSA9PiB2b2lkO1xufVxuXG5jb25zdCBVc2VyQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8VXNlckNvbnRleHRUeXBlPih7XG4gIHVzZXJEYXRhOiB7fSxcbiAgbG9hZGluZzogZmFsc2UsXG4gIGVycm9yOiBudWxsLFxuICB1cGRhdGVVc2VyOiBhc3luYyAoKSA9PiB7fSxcbiAgdXBkYXRlU3R5bGVzOiBhc3luYyAoKSA9PiB7fSxcbiAgdG9nZ2xlRmF2b3JpdGU6IGFzeW5jICgpID0+IHt9LFxuICBsb2dvdXQ6ICgpID0+IHt9LFxufSk7XG5cbi8vIEhlbHBlciBmdW5jdGlvbnNcbmNvbnN0IFVTRVJfU1RPUkFHRV9LRVkgPSAndXNlcl9kYXRhJztcbmNvbnN0IFVTRVJfSURfS0VZID0gJ3VzZXJfaWQnO1xuXG5jb25zdCBsb2FkVXNlckZyb21TdG9yYWdlID0gKCk6IFVzZXJEYXRhID0+IHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm4ge307XG4gIFxuICB0cnkge1xuICAgIGNvbnN0IHVzZXJEYXRhID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oVVNFUl9TVE9SQUdFX0tFWSk7XG4gICAgcmV0dXJuIHVzZXJEYXRhID8gSlNPTi5wYXJzZSh1c2VyRGF0YSkgOiB7fTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgdXNlciBkYXRhIGZyb20gc3RvcmFnZScsIGUpO1xuICAgIHJldHVybiB7fTtcbiAgfVxufTtcblxuY29uc3Qgc2F2ZVVzZXJUb1N0b3JhZ2UgPSAoZGF0YTogVXNlckRhdGEpOiB2b2lkID0+IHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm47XG4gIFxuICB0cnkge1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFVTRVJfU1RPUkFHRV9LRVksIEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcbiAgICBpZiAoZGF0YS5pZCkge1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oVVNFUl9JRF9LRVksIGRhdGEuaWQudG9TdHJpbmcoKSk7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIHVzZXIgZGF0YSB0byBzdG9yYWdlJywgZSk7XG4gIH1cbn07XG5cbi8vIFByb3ZpZGVyIGNvbXBvbmVudFxuZXhwb3J0IGNvbnN0IFVzZXJQcm92aWRlcjogUmVhY3QuRkM8eyBjaGlsZHJlbjogUmVhY3ROb2RlIH0+ID0gKHsgY2hpbGRyZW4gfSkgPT4ge1xuICBjb25zdCBbdXNlckRhdGEsIHNldFVzZXJEYXRhXSA9IHVzZVN0YXRlPFVzZXJEYXRhPihsb2FkVXNlckZyb21TdG9yYWdlKCkpO1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG5cbiAgLy8gTG9hZCB1c2VyIGRhdGEgd2hlbiBjb21wb25lbnQgbW91bnRzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gRmxhZyB0byBwcmV2ZW50IG1lbW9yeSBsZWFrcyBpZiBjb21wb25lbnQgdW5tb3VudHMgZHVyaW5nIGZldGNoXG4gICAgbGV0IGlzTW91bnRlZCA9IHRydWU7XG4gICAgXG4gICAgY29uc3QgZmV0Y2hVc2VyRGF0YSA9IGFzeW5jICgpID0+IHtcbiAgICAgIC8vIENoZWNrIGlmIHdlIGhhdmUgYSB1c2VyIElEIHN0b3JlZFxuICAgICAgY29uc3QgdXNlcklkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oVVNFUl9JRF9LRVkpO1xuICAgICAgY29uc29sZS5sb2coJ1VzZXJDb250ZXh0OiBGb3VuZCB1c2VyIElEIGluIGxvY2FsU3RvcmFnZTonLCB1c2VySWQpO1xuICAgICAgXG4gICAgICAvLyBGaXJzdCwgY2hlY2sgaWYgd2UgaGF2ZSBjYWNoZWQgdXNlckRhdGEgaW4gbG9jYWxTdG9yYWdlXG4gICAgICBjb25zdCBjYWNoZWRVc2VyRGF0YSA9IGxvYWRVc2VyRnJvbVN0b3JhZ2UoKTtcbiAgICAgIGlmIChjYWNoZWRVc2VyRGF0YSAmJiBjYWNoZWRVc2VyRGF0YS5pZCkge1xuICAgICAgICAvLyBJZiB3ZSBoYXZlIGNhY2hlZCBkYXRhLCB1c2UgaXQgaW5pdGlhbGx5XG4gICAgICAgIGNvbnNvbGUubG9nKCdVc2VyQ29udGV4dDogVXNpbmcgY2FjaGVkIHVzZXIgZGF0YSB3aXRoIElEOicsIGNhY2hlZFVzZXJEYXRhLmlkKTtcbiAgICAgICAgc2V0VXNlckRhdGEoY2FjaGVkVXNlckRhdGEpO1xuICAgICAgICAvLyBTdGlsbCBzZXQgbG9hZGluZyB0byB0cnVlIHRvIGluZGljYXRlIHdlJ3JlIHJlZnJlc2hpbmcgaW4gdGhlIGJhY2tncm91bmRcbiAgICAgICAgLy8gYnV0IHRoZSBVSSBjYW4gYWxyZWFkeSB1c2UgdGhlIGNhY2hlZCBkYXRhXG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFNldCBsb2FkaW5nIHN0YXRlIG9ubHkgaWYgd2UgZG9uJ3QgaGF2ZSBjYWNoZWQgZGF0YVxuICAgICAgaWYgKCFjYWNoZWRVc2VyRGF0YSB8fCAhY2FjaGVkVXNlckRhdGEuaWQpIHtcbiAgICAgICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gU1RSQVRFR1kgMTogRmlyc3QgdHJ5IHdpdGggc3BlY2lmaWMgdXNlciBJRCBpZiBhdmFpbGFibGUgKG1vc3QgcmVsaWFibGUpXG4gICAgICAgIGlmICh1c2VySWQpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYFVzZXJDb250ZXh0OiBGZXRjaGluZyBzcGVjaWZpYyB1c2VyIGRhdGEgZm9yIElEICR7dXNlcklkfWApO1xuICAgICAgICAgICAgY29uc3QgZGlyZWN0UmVzcG9uc2UgPSBhd2FpdCBhcGkuZ2V0PHtkYXRhPzogVXNlckRhdGEsIHVzZXI/OiBVc2VyRGF0YX0+KGAvdXNlcnMvJHt1c2VySWR9YCwgeyBcbiAgICAgICAgICAgICAgcmVxdWlyZXNBdXRoOiB0cnVlLFxuICAgICAgICAgICAgICB1c2VDYWNoZTogZmFsc2UsIC8vIEZvcmNlIGEgZnJlc2ggcmVxdWVzdFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIElmIGNvbXBvbmVudCB1bm1vdW50ZWQgZHVyaW5nIGZldGNoLCBkb24ndCB1cGRhdGUgc3RhdGVcbiAgICAgICAgICAgIGlmICghaXNNb3VudGVkKSByZXR1cm47XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChkaXJlY3RSZXNwb25zZSkge1xuICAgICAgICAgICAgICAvLyBBUEkgbWlnaHQgcmV0dXJuIGRhdGEgaW4gZGlmZmVyZW50IGZvcm1hdHNcbiAgICAgICAgICAgICAgY29uc3QgZGlyZWN0VXNlckRhdGEgPSBkaXJlY3RSZXNwb25zZS5kYXRhIHx8IGRpcmVjdFJlc3BvbnNlLnVzZXIgfHwgZGlyZWN0UmVzcG9uc2U7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnVXNlckNvbnRleHQ6IFN1Y2Nlc3NmdWxseSBmZXRjaGVkIHVzZXIgYnkgSUQ6JywgdXNlcklkKTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIEVuc3VyZSB0aGUgSUQgaXMgY29ycmVjdGx5IHNldFxuICAgICAgICAgICAgICBkaXJlY3RVc2VyRGF0YS5pZCA9IE51bWJlcih1c2VySWQpO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gVXBkYXRlIHN0YXRlIGFuZCBzdG9yYWdlXG4gICAgICAgICAgICAgIHNldFVzZXJEYXRhKGRpcmVjdFVzZXJEYXRhKTtcbiAgICAgICAgICAgICAgc2F2ZVVzZXJUb1N0b3JhZ2UoZGlyZWN0VXNlckRhdGEpO1xuICAgICAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICAgICAgcmV0dXJuOyAvLyBTdWNjZXNzZnVsbHkgZmV0Y2hlZCBieSBJRFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKGlkRXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBVc2VyQ29udGV4dDogRmFpbGVkIHRvIGZldGNoIHVzZXIgd2l0aCBJRCAke3VzZXJJZH06YCwgaWRFcnIpO1xuICAgICAgICAgICAgLy8gQ29udGludWUgdG8gbmV4dCBzdHJhdGVneVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gU1RSQVRFR1kgMjogVHJ5IHRoZSAvdXNlcnMvbWUgZW5kcG9pbnRcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnVXNlckNvbnRleHQ6IEZldGNoaW5nIHVzZXIgZGF0YSBmcm9tIC9hcGkvdXNlcnMvbWUnKTtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaS5nZXQ8e2RhdGE6IFVzZXJEYXRhfT4oJy91c2Vycy9tZScsIHsgXG4gICAgICAgICAgICByZXF1aXJlc0F1dGg6IHRydWUsXG4gICAgICAgICAgICB1c2VDYWNoZTogZmFsc2UsIC8vIEZvcmNlIGEgZnJlc2ggcmVxdWVzdFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIElmIGNvbXBvbmVudCB1bm1vdW50ZWQgZHVyaW5nIGZldGNoLCBkb24ndCB1cGRhdGUgc3RhdGVcbiAgICAgICAgICBpZiAoIWlzTW91bnRlZCkgcmV0dXJuO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFVud3JhcCB0aGUgdXNlciBkYXRhIGZyb20gdGhlIG5lc3RlZCAnZGF0YScgb2JqZWN0XG4gICAgICAgICAgY29uc3QgdXNlckRhdGEgPSByZXNwb25zZS5kYXRhIHx8IHJlc3BvbnNlO1xuICAgICAgICAgIFxuICAgICAgICAgIGNvbnNvbGUubG9nKCdVc2VyQ29udGV4dDogVXNlciBkYXRhIHJlY2VpdmVkIGZyb20gL3VzZXJzL21lJyk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKHVzZXJEYXRhKSB7XG4gICAgICAgICAgICBzZXRVc2VyRGF0YSh1c2VyRGF0YSk7XG4gICAgICAgICAgICBzYXZlVXNlclRvU3RvcmFnZSh1c2VyRGF0YSk7XG4gICAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICAgIHJldHVybjsgLy8gU3VjY2Vzc2Z1bGx5IGZldGNoZWQgZnJvbSAvdXNlcnMvbWVcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKG1lRXJyKSB7XG4gICAgICAgICAgLy8gSWYgY29tcG9uZW50IHVubW91bnRlZCBkdXJpbmcgZmV0Y2gsIGRvbid0IHVwZGF0ZSBzdGF0ZVxuICAgICAgICAgIGlmICghaXNNb3VudGVkKSByZXR1cm47XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc29sZS5sb2coJ1VzZXJDb250ZXh0OiBGYWlsZWQgdG8gZmV0Y2ggZnJvbSAvYXBpL3VzZXJzL21lOicsIG1lRXJyKTtcbiAgICAgICAgICAvLyBDb250aW51ZSB0byBmYWxsYmFjayBzdHJhdGVneVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBGQUxMQkFDSyBTVFJBVEVHWTogSWYgYm90aCBhcHByb2FjaGVzIGZhaWxlZCBidXQgd2UgaGF2ZSBjYWNoZWQgZGF0YSwga2VlcCB1c2luZyBpdFxuICAgICAgICBpZiAoY2FjaGVkVXNlckRhdGEgJiYgY2FjaGVkVXNlckRhdGEuaWQpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnVXNlckNvbnRleHQ6IFVzaW5nIG9ubHkgY2FjaGVkIGRhdGEgYXMgZmFsbGJhY2snKTtcbiAgICAgICAgICAvLyBObyBuZWVkIHRvIHVwZGF0ZSBzdGF0ZSBhcyB3ZSBhbHJlYWR5IHNldCBpdCBhYm92ZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFdlIGhhdmUgbm8gZGF0YSBhdCBhbGxcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdVc2VyQ29udGV4dDogRmFpbGVkIHRvIGxvYWQgdXNlciBkYXRhIGZyb20gYW55IHNvdXJjZScpO1xuICAgICAgICAgIHNldEVycm9yKCdGYWlsZWQgdG8gbG9hZCB1c2VyIGRhdGEnKTtcbiAgICAgICAgfVxuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgLy8gSWYgY29tcG9uZW50IHVubW91bnRlZCBkdXJpbmcgZmV0Y2gsIGRvbid0IHVwZGF0ZSBzdGF0ZVxuICAgICAgICBpZiAoaXNNb3VudGVkKSB7XG4gICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIGZldGNoVXNlckRhdGEoKTtcbiAgICBcbiAgICAvLyBDbGVhbiB1cCBmdW5jdGlvbiB0byBwcmV2ZW50IG1lbW9yeSBsZWFrc1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpc01vdW50ZWQgPSBmYWxzZTtcbiAgICB9O1xuICB9LCBbXSk7XG5cbiAgLy8gVXBkYXRlIHVzZXIgZGF0YVxuICBjb25zdCB1cGRhdGVVc2VyID0gYXN5bmMgKGRhdGE6IFBhcnRpYWw8VXNlckRhdGE+KTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgaWYgKCF1c2VyRGF0YS5pZCkge1xuICAgICAgc2V0RXJyb3IoJ1VzZXIgaXMgbm90IGxvZ2dlZCBpbicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICAvLyBHZXQgY3VycmVudCBhdXRoIHRva2VuXG4gICAgICBjb25zdCBhdXRoVG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYXV0aF90b2tlbicpO1xuICAgICAgaWYgKCFhdXRoVG9rZW4pIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdObyBhdXRoIHRva2VuIGZvdW5kIHdoZW4gdHJ5aW5nIHRvIHVwZGF0ZSB1c2VyJyk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQXV0aGVudGljYXRpb24gcmVxdWlyZWQnKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gTWFrZSBBUEkgY2FsbCB3aXRoIGV4cGxpY2l0IGF1dGggdG9rZW4gaW4gb3B0aW9uc1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGkucHV0PHsgdXNlcjogVXNlckRhdGEgfT4oYC91c2Vycy8ke3VzZXJEYXRhLmlkfWAsIGRhdGEsIHtcbiAgICAgICAgcmVxdWlyZXNBdXRoOiB0cnVlLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7YXV0aFRva2VufWBcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGlmIChyZXNwb25zZS51c2VyKSB7XG4gICAgICAgIHNldFVzZXJEYXRhKHJlc3BvbnNlLnVzZXIpO1xuICAgICAgICBzYXZlVXNlclRvU3RvcmFnZShyZXNwb25zZS51c2VyKTtcbiAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UpIHtcbiAgICAgICAgLy8gQVBJIG1pZ2h0IHJldHVybiB0aGUgdXNlciBkaXJlY3RseSB3aXRob3V0IG5lc3RpbmcgaW4gdXNlciBwcm9wZXJ0eVxuICAgICAgICBjb25zdCB1cGRhdGVkRGF0YSA9IHJlc3BvbnNlLmRhdGEgfHwgcmVzcG9uc2U7XG4gICAgICAgIHNldFVzZXJEYXRhKHVwZGF0ZWREYXRhKTtcbiAgICAgICAgc2F2ZVVzZXJUb1N0b3JhZ2UodXBkYXRlZERhdGEpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgdXNlcicsIGVycik7XG4gICAgICBzZXRFcnJvcignRmFpbGVkIHRvIHVwZGF0ZSB1c2VyIGRhdGEnKTtcbiAgICAgIHRocm93IGVycjtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIFVwZGF0ZSB1c2VyIHN0eWxlc1xuICBjb25zdCB1cGRhdGVTdHlsZXMgPSBhc3luYyAoc3R5bGVzOiBudW1iZXJbXSk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgIHJldHVybiB1cGRhdGVVc2VyKHsgc3R5bGVzIH0pO1xuICB9O1xuXG4gIC8vIFRvZ2dsZSBmYXZvcml0ZSBmb3IgYW4gYXJ0aXN0IG9yIHRhdHRvb1xuICBjb25zdCB0b2dnbGVGYXZvcml0ZSA9IGFzeW5jICh0eXBlOiAnYXJ0aXN0JyB8ICd0YXR0b28gfCBzdHVkaW8nLCBpZDogbnVtYmVyKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgaWYgKCF1c2VyRGF0YS5pZCkge1xuICAgICAgc2V0RXJyb3IoJ1VzZXIgaXMgbm90IGxvZ2dlZCBpbicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICAvLyBHZXQgY3VycmVudCBhdXRoIHRva2VuXG4gICAgICBjb25zdCBhdXRoVG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYXV0aF90b2tlbicpO1xuICAgICAgaWYgKCFhdXRoVG9rZW4pIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdObyBhdXRoIHRva2VuIGZvdW5kIHdoZW4gdHJ5aW5nIHRvIHVwZGF0ZSBmYXZvcml0ZXMnKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBdXRoZW50aWNhdGlvbiByZXF1aXJlZCcpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBJbml0aWFsaXplIGZhdm9yaXRlcyBzdHJ1Y3R1cmUgaWYgaXQgZG9lc24ndCBleGlzdFxuICAgICAgY29uc3QgY3VycmVudEZhdm9yaXRlcyA9IHVzZXJEYXRhLmZhdm9yaXRlcyB8fCB7IGFydGlzdHM6IFtdLCB0YXR0b29zOiBbXSB9O1xuICAgICAgY29uc3QgY3VycmVudFR5cGVMaXN0ID0gY3VycmVudEZhdm9yaXRlc1t0eXBlXSB8fCBbXTtcbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgaWYgaXRlbSBpcyBhbHJlYWR5IGluIGZhdm9yaXRlc1xuICAgICAgY29uc3QgaXNBbHJlYWR5RmF2b3JpdGUgPSBjdXJyZW50VHlwZUxpc3QuaW5jbHVkZXMoaWQpO1xuICAgICAgXG4gICAgICAvLyBVcGRhdGUgZmF2b3JpdGUgbGlzdCBcbiAgICAgIGxldCB1cGRhdGVkRmF2b3JpdGVzO1xuICAgICAgaWYgKGlzQWxyZWFkeUZhdm9yaXRlKSB7XG4gICAgICAgIC8vIFJlbW92ZSBmcm9tIGZhdm9yaXRlc1xuICAgICAgICB1cGRhdGVkRmF2b3JpdGVzID0ge1xuICAgICAgICAgIC4uLmN1cnJlbnRGYXZvcml0ZXMsXG4gICAgICAgICAgW3R5cGVdOiBjdXJyZW50VHlwZUxpc3QuZmlsdGVyKGl0ZW1JZCA9PiBpdGVtSWQgIT09IGlkKVxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQWRkIHRvIGZhdm9yaXRlc1xuICAgICAgICB1cGRhdGVkRmF2b3JpdGVzID0ge1xuICAgICAgICAgIC4uLmN1cnJlbnRGYXZvcml0ZXMsXG4gICAgICAgICAgW3R5cGVdOiBbLi4uY3VycmVudFR5cGVMaXN0LCBpZF1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gUGVyZm9ybSBBUEkgY2FsbCB0byB1cGRhdGUgZmF2b3JpdGVzIG9uIHRoZSBzZXJ2ZXIgd2l0aCBleHBsaWNpdCB0b2tlblxuICAgICAgYXdhaXQgYXBpLnBvc3QoYC91c2Vycy9mYXZvcml0ZXMvJHt0eXBlfWAsIHtcbiAgICAgICAgaWRzOiBpZCxcbiAgICAgICAgYWN0aW9uOiBpc0FscmVhZHlGYXZvcml0ZSA/ICdyZW1vdmUnIDogJ2FkZCdcbiAgICAgIH0sIHsgXG4gICAgICAgIHJlcXVpcmVzQXV0aDogdHJ1ZSxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke2F1dGhUb2tlbn1gXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBVcGRhdGUgbG9jYWwgc3RhdGVcbiAgICAgIGNvbnN0IHVwZGF0ZWRVc2VyRGF0YSA9IHtcbiAgICAgICAgLi4udXNlckRhdGEsXG4gICAgICAgIGZhdm9yaXRlczogdXBkYXRlZEZhdm9yaXRlc1xuICAgICAgfTtcbiAgICAgIFxuICAgICAgc2V0VXNlckRhdGEodXBkYXRlZFVzZXJEYXRhKTtcbiAgICAgIHNhdmVVc2VyVG9TdG9yYWdlKHVwZGF0ZWRVc2VyRGF0YSk7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKGAke2lzQWxyZWFkeUZhdm9yaXRlID8gJ1JlbW92ZWQgZnJvbScgOiAnQWRkZWQgdG8nfSBmYXZvcml0ZXM6ICR7dHlwZX0gd2l0aCBJRCAke2lkfWApO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgZmF2b3JpdGVzJywgZXJyKTtcbiAgICAgIHNldEVycm9yKCdGYWlsZWQgdG8gdXBkYXRlIGZhdm9yaXRlcycpO1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gTG9nb3V0IHVzZXJcbiAgY29uc3QgbG9nb3V0ID0gKCk6IHZvaWQgPT4ge1xuICAgIC8vIENsZWFyIHVzZXIgZGF0YSBpbiBzdGF0ZVxuICAgIHNldFVzZXJEYXRhKHt9KTtcbiAgICBcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdVc2VyQ29udGV4dDogQ2xlYXJpbmcgYWxsIHVzZXIgZGF0YSBkdXJpbmcgbG9nb3V0Jyk7XG4gICAgICBcbiAgICAgIC8vIFJlbW92ZSBzcGVjaWZpYyB1c2VyIGRhdGEga2V5cyB3ZSBrbm93IGFib3V0XG4gICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShVU0VSX1NUT1JBR0VfS0VZKTtcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFVTRVJfSURfS0VZKTtcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdhdXRoX3Rva2VuJyk7XG4gICAgICBcbiAgICAgIC8vIEZpbmQgYW5kIHJlbW92ZSBhbnkgb3RoZXIgdXNlci1yZWxhdGVkIGNhY2hlIGl0ZW1zXG4gICAgICBjb25zdCBrZXlzVG9SZW1vdmUgPSBbXTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbG9jYWxTdG9yYWdlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IGxvY2FsU3RvcmFnZS5rZXkoaSk7XG4gICAgICAgIGlmIChrZXkgJiYgKGtleS5pbmNsdWRlcygndXNlcicpIHx8IGtleS5pbmNsdWRlcygndG9rZW4nKSB8fCBrZXkuaW5jbHVkZXMoJ2F1dGgnKSkpIHtcbiAgICAgICAgICBrZXlzVG9SZW1vdmUucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFJlbW92ZSBpZGVudGlmaWVkIGtleXNcbiAgICAgIGtleXNUb1JlbW92ZS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBVc2VyQ29udGV4dDogUmVtb3ZpbmcgbG9jYWxTdG9yYWdlIGl0ZW06ICR7a2V5fWApO1xuICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIEFsc28gdHJ5IHRvIGNsZWFyIGFueSBBUEkgY2FjaGUgcmVsYXRlZCB0byB1c2VyIGRhdGFcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIENsZWFyIEFQSSBjYWNoZSByZWxhdGVkIHRvIHVzZXIgZGF0YSB1c2luZyBvdXIgc3BlY2lhbGl6ZWQgbWV0aG9kXG4gICAgICAgIGFwaS5jbGVhclVzZXJDYWNoZSgpO1xuICAgICAgICBjb25zb2xlLmxvZygnVXNlckNvbnRleHQ6IFVzZXIgQVBJIGNhY2hlIGNsZWFyZWQnKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignVXNlckNvbnRleHQ6IEZhaWxlZCB0byBjbGVhciBBUEkgY2FjaGU6JywgZSk7XG4gICAgICAgIFxuICAgICAgICAvLyBBdHRlbXB0IHRvIGNsZWFyIGFsbCBjYWNoZSBhcyBhIGZhbGxiYWNrXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYXBpLmNsZWFyQ2FjaGUoKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnVXNlckNvbnRleHQ6IEFsbCBBUEkgY2FjaGUgY2xlYXJlZCBhcyBmYWxsYmFjaycpO1xuICAgICAgICB9IGNhdGNoIChmYWxsYmFja0Vycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1VzZXJDb250ZXh0OiBGYWlsZWQgdG8gY2xlYXIgYWxsIEFQSSBjYWNoZTonLCBmYWxsYmFja0Vycik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8VXNlckNvbnRleHQuUHJvdmlkZXJcbiAgICAgIHZhbHVlPXt7XG4gICAgICAgIHVzZXJEYXRhLFxuICAgICAgICBsb2FkaW5nLFxuICAgICAgICBlcnJvcixcbiAgICAgICAgdXBkYXRlVXNlcixcbiAgICAgICAgdXBkYXRlU3R5bGVzLFxuICAgICAgICB0b2dnbGVGYXZvcml0ZSxcbiAgICAgICAgbG9nb3V0LFxuICAgICAgfX1cbiAgICA+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9Vc2VyQ29udGV4dC5Qcm92aWRlcj5cbiAgKTtcbn07XG5cbi8vIEhvb2sgdG8gdXNlIHRoZSB1c2VyIGNvbnRleHRcbmV4cG9ydCBjb25zdCB1c2VVc2VyID0gKCkgPT4gdXNlQ29udGV4dChVc2VyQ29udGV4dCk7XG5cbi8vIEhvb2sgdG8gZGlyZWN0bHkgZ2V0IHVzZXIgZGF0YSBhcyB0aGUgcmV0dXJuIHZhbHVlLCB3aXRoIHVwZGF0ZSBtZXRob2RzIGFzIHByb3BlcnRpZXNcbmV4cG9ydCBjb25zdCB1c2VVc2VyRGF0YSA9ICgpOiBFbmhhbmNlZFVzZXJEYXRhID0+IHtcbiAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoVXNlckNvbnRleHQpO1xuICBcbiAgLy8gQ3JlYXRlIGEgbWVyZ2VkIG9iamVjdCB0aGF0IGlzIGJvdGggdGhlIHVzZXIgZGF0YSBBTkQgaGFzIHRoZSBtZXRob2RzXG4gIGNvbnN0IGVuaGFuY2VkVXNlckRhdGE6IEVuaGFuY2VkVXNlckRhdGEgPSB7XG4gICAgLi4uY29udGV4dC51c2VyRGF0YSxcbiAgICB1cGRhdGVVc2VyOiBjb250ZXh0LnVwZGF0ZVVzZXIsXG4gICAgdXBkYXRlU3R5bGVzOiBjb250ZXh0LnVwZGF0ZVN0eWxlcyxcbiAgICB0b2dnbGVGYXZvcml0ZTogY29udGV4dC50b2dnbGVGYXZvcml0ZSxcbiAgICBsb2dvdXQ6IGNvbnRleHQubG9nb3V0LFxuICAgIGxvYWRpbmc6IGNvbnRleHQubG9hZGluZyxcbiAgICBlcnJvcjogY29udGV4dC5lcnJvcixcbiAgICAvLyBTcGVjaWFsIGFjY2Vzc29yIHRvIGdldCB0aGUgXCJjbGVhblwiIGRhdGEgd2l0aG91dCB0aGUgbWV0aG9kc1xuICAgIF9kYXRhOiBjb250ZXh0LnVzZXJEYXRhXG4gIH07XG4gIFxuICByZXR1cm4gZW5oYW5jZWRVc2VyRGF0YTtcbn07Il0sIm5hbWVzIjpbIlJlYWN0IiwiY3JlYXRlQ29udGV4dCIsInVzZUNvbnRleHQiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsImFwaSIsIlVzZXJDb250ZXh0IiwidXNlckRhdGEiLCJsb2FkaW5nIiwiZXJyb3IiLCJ1cGRhdGVVc2VyIiwidXBkYXRlU3R5bGVzIiwidG9nZ2xlRmF2b3JpdGUiLCJsb2dvdXQiLCJVU0VSX1NUT1JBR0VfS0VZIiwiVVNFUl9JRF9LRVkiLCJsb2FkVXNlckZyb21TdG9yYWdlIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIkpTT04iLCJwYXJzZSIsImUiLCJjb25zb2xlIiwic2F2ZVVzZXJUb1N0b3JhZ2UiLCJkYXRhIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsImlkIiwidG9TdHJpbmciLCJVc2VyUHJvdmlkZXIiLCJjaGlsZHJlbiIsInNldFVzZXJEYXRhIiwic2V0TG9hZGluZyIsInNldEVycm9yIiwiaXNNb3VudGVkIiwiZmV0Y2hVc2VyRGF0YSIsInVzZXJJZCIsImxvZyIsImNhY2hlZFVzZXJEYXRhIiwiZGlyZWN0UmVzcG9uc2UiLCJnZXQiLCJyZXF1aXJlc0F1dGgiLCJ1c2VDYWNoZSIsImRpcmVjdFVzZXJEYXRhIiwidXNlciIsIk51bWJlciIsImlkRXJyIiwicmVzcG9uc2UiLCJtZUVyciIsImF1dGhUb2tlbiIsIndhcm4iLCJFcnJvciIsInB1dCIsImhlYWRlcnMiLCJ1cGRhdGVkRGF0YSIsImVyciIsInN0eWxlcyIsInR5cGUiLCJjdXJyZW50RmF2b3JpdGVzIiwiZmF2b3JpdGVzIiwiYXJ0aXN0cyIsInRhdHRvb3MiLCJjdXJyZW50VHlwZUxpc3QiLCJpc0FscmVhZHlGYXZvcml0ZSIsImluY2x1ZGVzIiwidXBkYXRlZEZhdm9yaXRlcyIsImZpbHRlciIsIml0ZW1JZCIsInBvc3QiLCJpZHMiLCJhY3Rpb24iLCJ1cGRhdGVkVXNlckRhdGEiLCJyZW1vdmVJdGVtIiwia2V5c1RvUmVtb3ZlIiwiaSIsImxlbmd0aCIsImtleSIsInB1c2giLCJmb3JFYWNoIiwiY2xlYXJVc2VyQ2FjaGUiLCJjbGVhckNhY2hlIiwiZmFsbGJhY2tFcnIiLCJQcm92aWRlciIsInZhbHVlIiwidXNlVXNlciIsInVzZVVzZXJEYXRhIiwiY29udGV4dCIsImVuaGFuY2VkVXNlckRhdGEiLCJfZGF0YSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./contexts/UserContext.tsx\n");

/***/ }),

/***/ "./pages/_app.tsx":
/*!************************!*\
  !*** ./pages/_app.tsx ***!
  \************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_CssBaseline_ThemeProvider_mui_material__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=CssBaseline,ThemeProvider!=!@mui/material */ \"__barrel_optimize__?names=CssBaseline,ThemeProvider!=!./node_modules/@mui/material/esm/index.js\");\n/* harmony import */ var _contexts_AuthContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../contexts/AuthContext */ \"./contexts/AuthContext.tsx\");\n/* harmony import */ var _contexts_UserContext__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../contexts/UserContext */ \"./contexts/UserContext.tsx\");\n/* harmony import */ var _contexts_StyleContext__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../contexts/StyleContext */ \"./contexts/StyleContext.tsx\");\n/* harmony import */ var _styles_theme__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../styles/theme */ \"./styles/theme.ts\");\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../styles/globals.css */ \"./styles/globals.css\");\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_styles_globals_css__WEBPACK_IMPORTED_MODULE_6__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_styles_theme__WEBPACK_IMPORTED_MODULE_5__, _barrel_optimize_names_CssBaseline_ThemeProvider_mui_material__WEBPACK_IMPORTED_MODULE_7__]);\n([_styles_theme__WEBPACK_IMPORTED_MODULE_5__, _barrel_optimize_names_CssBaseline_ThemeProvider_mui_material__WEBPACK_IMPORTED_MODULE_7__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\n\n\nfunction MyApp({ Component, pageProps }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CssBaseline_ThemeProvider_mui_material__WEBPACK_IMPORTED_MODULE_7__.ThemeProvider, {\n        theme: _styles_theme__WEBPACK_IMPORTED_MODULE_5__[\"default\"],\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CssBaseline_ThemeProvider_mui_material__WEBPACK_IMPORTED_MODULE_7__.CssBaseline, {}, void 0, false, {\n                fileName: \"/Users/carolineennis/inkedin/inked-in-www/nextjs/pages/_app.tsx\",\n                lineNumber: 13,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_2__.AuthProvider, {\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_contexts_UserContext__WEBPACK_IMPORTED_MODULE_3__.UserProvider, {\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_contexts_StyleContext__WEBPACK_IMPORTED_MODULE_4__.StyleProvider, {\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Component, {\n                            ...pageProps\n                        }, void 0, false, {\n                            fileName: \"/Users/carolineennis/inkedin/inked-in-www/nextjs/pages/_app.tsx\",\n                            lineNumber: 17,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/carolineennis/inkedin/inked-in-www/nextjs/pages/_app.tsx\",\n                        lineNumber: 16,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/carolineennis/inkedin/inked-in-www/nextjs/pages/_app.tsx\",\n                    lineNumber: 15,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/carolineennis/inkedin/inked-in-www/nextjs/pages/_app.tsx\",\n                lineNumber: 14,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/carolineennis/inkedin/inked-in-www/nextjs/pages/_app.tsx\",\n        lineNumber: 12,\n        columnNumber: 5\n    }, this);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MyApp);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWdlcy9fYXBwLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQTBCO0FBRWlDO0FBQ0o7QUFDQTtBQUNFO0FBQ3JCO0FBQ0w7QUFFL0IsU0FBU08sTUFBTSxFQUFFQyxTQUFTLEVBQUVDLFNBQVMsRUFBWTtJQUMvQyxxQkFDRSw4REFBQ1Isd0dBQWFBO1FBQUNLLE9BQU9BLHFEQUFLQTs7MEJBQ3pCLDhEQUFDSixzR0FBV0E7Ozs7OzBCQUNaLDhEQUFDQywrREFBWUE7MEJBQ1gsNEVBQUNDLCtEQUFZQTs4QkFDWCw0RUFBQ0MsaUVBQWFBO2tDQUNaLDRFQUFDRzs0QkFBVyxHQUFHQyxTQUFTOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFNcEM7QUFFQSxpRUFBZUYsS0FBS0EsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2lua2VkaW4td2ViLy4vcGFnZXMvX2FwcC50c3g/MmZiZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgQXBwUHJvcHMgfSBmcm9tICduZXh0L2FwcCc7XG5pbXBvcnQgeyBUaGVtZVByb3ZpZGVyLCBDc3NCYXNlbGluZSB9IGZyb20gJ0BtdWkvbWF0ZXJpYWwnO1xuaW1wb3J0IHsgQXV0aFByb3ZpZGVyIH0gZnJvbSAnLi4vY29udGV4dHMvQXV0aENvbnRleHQnO1xuaW1wb3J0IHsgVXNlclByb3ZpZGVyIH0gZnJvbSAnLi4vY29udGV4dHMvVXNlckNvbnRleHQnO1xuaW1wb3J0IHsgU3R5bGVQcm92aWRlciB9IGZyb20gJy4uL2NvbnRleHRzL1N0eWxlQ29udGV4dCc7XG5pbXBvcnQgdGhlbWUgZnJvbSAnLi4vc3R5bGVzL3RoZW1lJztcbmltcG9ydCAnLi4vc3R5bGVzL2dsb2JhbHMuY3NzJztcblxuZnVuY3Rpb24gTXlBcHAoeyBDb21wb25lbnQsIHBhZ2VQcm9wcyB9OiBBcHBQcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxUaGVtZVByb3ZpZGVyIHRoZW1lPXt0aGVtZX0+XG4gICAgICA8Q3NzQmFzZWxpbmUgLz5cbiAgICAgIDxBdXRoUHJvdmlkZXI+XG4gICAgICAgIDxVc2VyUHJvdmlkZXI+XG4gICAgICAgICAgPFN0eWxlUHJvdmlkZXI+XG4gICAgICAgICAgICA8Q29tcG9uZW50IHsuLi5wYWdlUHJvcHN9IC8+XG4gICAgICAgICAgPC9TdHlsZVByb3ZpZGVyPlxuICAgICAgICA8L1VzZXJQcm92aWRlcj5cbiAgICAgIDwvQXV0aFByb3ZpZGVyPlxuICAgIDwvVGhlbWVQcm92aWRlcj5cbiAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgTXlBcHA7XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJUaGVtZVByb3ZpZGVyIiwiQ3NzQmFzZWxpbmUiLCJBdXRoUHJvdmlkZXIiLCJVc2VyUHJvdmlkZXIiLCJTdHlsZVByb3ZpZGVyIiwidGhlbWUiLCJNeUFwcCIsIkNvbXBvbmVudCIsInBhZ2VQcm9wcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./pages/_app.tsx\n");

/***/ }),

/***/ "./styles/theme.ts":
/*!*************************!*\
  !*** ./styles/theme.ts ***!
  \*************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _mui_material_styles__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @mui/material/styles */ \"@mui/material/styles\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_mui_material_styles__WEBPACK_IMPORTED_MODULE_0__]);\n_mui_material_styles__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n// Define our custom colors\nconst colors = {\n    licorice: \"#1c0f13\",\n    pearl: \"#e8dbc5\",\n    persianGreen: \"#339989\",\n    tigersEye: \"#bc6c25\",\n    crimson: \"#DC0F38\"\n};\n// Create a theme instance\nconst theme = (0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_0__.createTheme)({\n    palette: {\n        primary: {\n            main: colors.persianGreen,\n            light: \"#4fb3a7\",\n            dark: \"#247c6c\",\n            contrastText: \"#ffffff\"\n        },\n        secondary: {\n            main: colors.tigersEye,\n            light: \"#d1883b\",\n            dark: \"#984f18\",\n            contrastText: \"#ffffff\"\n        },\n        error: {\n            main: colors.crimson,\n            light: \"#e54060\",\n            dark: \"#b00929\",\n            contrastText: \"#ffffff\"\n        },\n        background: {\n            default: colors.licorice,\n            paper: colors.licorice\n        },\n        text: {\n            primary: \"#ffffff\",\n            secondary: \"rgba(255, 255, 255, 0.7)\",\n            disabled: \"rgba(255, 255, 255, 0.5)\"\n        }\n    },\n    typography: {\n        fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n        fontFamilyTattoo: '\"Tattoo-Font\", cursive',\n        h1: {\n            fontWeight: 500,\n            color: \"#ffffff\"\n        },\n        h2: {\n            fontWeight: 500,\n            color: \"#ffffff\"\n        },\n        h3: {\n            fontWeight: 500,\n            color: \"#ffffff\"\n        },\n        h4: {\n            fontWeight: 500,\n            color: \"#ffffff\"\n        },\n        h5: {\n            fontWeight: 500,\n            color: \"#ffffff\"\n        },\n        h6: {\n            fontWeight: 500,\n            color: \"#ffffff\"\n        },\n        button: {\n            textTransform: \"none\",\n            fontWeight: 500\n        }\n    },\n    components: {\n        MuiButton: {\n            styleOverrides: {\n                root: {\n                    borderRadius: 8\n                },\n                contained: {\n                    boxShadow: \"none\",\n                    \"&:hover\": {\n                        boxShadow: \"0px 2px 4px rgba(0, 0, 0, 0.1)\"\n                    }\n                }\n            }\n        },\n        MuiCard: {\n            styleOverrides: {\n                root: {\n                    borderRadius: 12,\n                    boxShadow: \"0px 2px 8px rgba(0, 0, 0, 0.15)\",\n                    backgroundColor: \"#2a1a1e\",\n                    color: \"#ffffff\"\n                }\n            }\n        },\n        MuiChip: {\n            styleOverrides: {\n                root: {\n                    borderRadius: 6\n                }\n            }\n        },\n        MuiTab: {\n            styleOverrides: {\n                root: {\n                    textTransform: \"none\"\n                }\n            }\n        }\n    }\n});\n// Apply the new variant\ntheme.typography.tattoo = {\n    fontFamily: theme.typography.fontFamilyTattoo,\n    fontSize: \"1.5rem\",\n    [theme.breakpoints.up(\"md\")]: {\n        fontSize: \"2rem\"\n    }\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (theme);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zdHlsZXMvdGhlbWUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBbUQ7QUFHbkQsMkJBQTJCO0FBQzNCLE1BQU1DLFNBQVM7SUFDYkMsVUFBVTtJQUNWQyxPQUFPO0lBQ1BDLGNBQWM7SUFDZEMsV0FBVztJQUNYQyxTQUFTO0FBQ1g7QUFFQSwwQkFBMEI7QUFDMUIsTUFBTUMsUUFBUVAsaUVBQVdBLENBQUM7SUFDeEJRLFNBQVM7UUFDUEMsU0FBUztZQUNQQyxNQUFNVCxPQUFPRyxZQUFZO1lBQ3pCTyxPQUFPO1lBQ1BDLE1BQU07WUFDTkMsY0FBYztRQUNoQjtRQUNBQyxXQUFXO1lBQ1RKLE1BQU1ULE9BQU9JLFNBQVM7WUFDdEJNLE9BQU87WUFDUEMsTUFBTTtZQUNOQyxjQUFjO1FBQ2hCO1FBQ0FFLE9BQU87WUFDTEwsTUFBTVQsT0FBT0ssT0FBTztZQUNwQkssT0FBTztZQUNQQyxNQUFNO1lBQ05DLGNBQWM7UUFDaEI7UUFDQUcsWUFBWTtZQUNWQyxTQUFTaEIsT0FBT0MsUUFBUTtZQUN4QmdCLE9BQU9qQixPQUFPQyxRQUFRO1FBQ3hCO1FBQ0FpQixNQUFNO1lBQ0pWLFNBQVM7WUFDVEssV0FBVztZQUNYTSxVQUFVO1FBQ1o7SUFDRjtJQUNBQyxZQUFZO1FBQ1ZDLFlBQVk7UUFDWkMsa0JBQWtCO1FBQ2xCQyxJQUFJO1lBQ0ZDLFlBQVk7WUFDWkMsT0FBTztRQUNUO1FBQ0FDLElBQUk7WUFDRkYsWUFBWTtZQUNaQyxPQUFPO1FBQ1Q7UUFDQUUsSUFBSTtZQUNGSCxZQUFZO1lBQ1pDLE9BQU87UUFDVDtRQUNBRyxJQUFJO1lBQ0ZKLFlBQVk7WUFDWkMsT0FBTztRQUNUO1FBQ0FJLElBQUk7WUFDRkwsWUFBWTtZQUNaQyxPQUFPO1FBQ1Q7UUFDQUssSUFBSTtZQUNGTixZQUFZO1lBQ1pDLE9BQU87UUFDVDtRQUNBTSxRQUFRO1lBQ05DLGVBQWU7WUFDZlIsWUFBWTtRQUNkO0lBQ0Y7SUFDQVMsWUFBWTtRQUNWQyxXQUFXO1lBQ1RDLGdCQUFnQjtnQkFDZEMsTUFBTTtvQkFDSkMsY0FBYztnQkFDaEI7Z0JBQ0FDLFdBQVc7b0JBQ1RDLFdBQVc7b0JBQ1gsV0FBVzt3QkFDVEEsV0FBVztvQkFDYjtnQkFDRjtZQUNGO1FBQ0Y7UUFDQUMsU0FBUztZQUNQTCxnQkFBZ0I7Z0JBQ2RDLE1BQU07b0JBQ0pDLGNBQWM7b0JBQ2RFLFdBQVc7b0JBQ1hFLGlCQUFpQjtvQkFDakJoQixPQUFPO2dCQUNUO1lBQ0Y7UUFDRjtRQUNBaUIsU0FBUztZQUNQUCxnQkFBZ0I7Z0JBQ2RDLE1BQU07b0JBQ0pDLGNBQWM7Z0JBQ2hCO1lBQ0Y7UUFDRjtRQUNBTSxRQUFRO1lBQ05SLGdCQUFnQjtnQkFDZEMsTUFBTTtvQkFDSkosZUFBZTtnQkFDakI7WUFDRjtRQUNGO0lBQ0Y7QUFDRjtBQXFCQSx3QkFBd0I7QUFDeEIxQixNQUFNYyxVQUFVLENBQUN3QixNQUFNLEdBQUc7SUFDeEJ2QixZQUFZZixNQUFNYyxVQUFVLENBQUNFLGdCQUFnQjtJQUM3Q3VCLFVBQVU7SUFDVixDQUFDdkMsTUFBTXdDLFdBQVcsQ0FBQ0MsRUFBRSxDQUFDLE1BQU0sRUFBRTtRQUM1QkYsVUFBVTtJQUNaO0FBQ0Y7QUFFQSxpRUFBZXZDLEtBQUtBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbmtlZGluLXdlYi8uL3N0eWxlcy90aGVtZS50cz82OTZiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZVRoZW1lIH0gZnJvbSAnQG11aS9tYXRlcmlhbC9zdHlsZXMnO1xuaW1wb3J0IHsgVGhlbWUsIFRoZW1lT3B0aW9ucyB9IGZyb20gJ0BtdWkvbWF0ZXJpYWwvc3R5bGVzJztcblxuLy8gRGVmaW5lIG91ciBjdXN0b20gY29sb3JzXG5jb25zdCBjb2xvcnMgPSB7XG4gIGxpY29yaWNlOiAnIzFjMGYxMycsXG4gIHBlYXJsOiAnI2U4ZGJjNScsXG4gIHBlcnNpYW5HcmVlbjogJyMzMzk5ODknLFxuICB0aWdlcnNFeWU6ICcjYmM2YzI1JyxcbiAgY3JpbXNvbjogJyNEQzBGMzgnXG59O1xuXG4vLyBDcmVhdGUgYSB0aGVtZSBpbnN0YW5jZVxuY29uc3QgdGhlbWUgPSBjcmVhdGVUaGVtZSh7XG4gIHBhbGV0dGU6IHtcbiAgICBwcmltYXJ5OiB7XG4gICAgICBtYWluOiBjb2xvcnMucGVyc2lhbkdyZWVuLFxuICAgICAgbGlnaHQ6ICcjNGZiM2E3JyxcbiAgICAgIGRhcms6ICcjMjQ3YzZjJyxcbiAgICAgIGNvbnRyYXN0VGV4dDogJyNmZmZmZmYnLFxuICAgIH0sXG4gICAgc2Vjb25kYXJ5OiB7XG4gICAgICBtYWluOiBjb2xvcnMudGlnZXJzRXllLFxuICAgICAgbGlnaHQ6ICcjZDE4ODNiJyxcbiAgICAgIGRhcms6ICcjOTg0ZjE4JyxcbiAgICAgIGNvbnRyYXN0VGV4dDogJyNmZmZmZmYnLFxuICAgIH0sXG4gICAgZXJyb3I6IHtcbiAgICAgIG1haW46IGNvbG9ycy5jcmltc29uLFxuICAgICAgbGlnaHQ6ICcjZTU0MDYwJyxcbiAgICAgIGRhcms6ICcjYjAwOTI5JyxcbiAgICAgIGNvbnRyYXN0VGV4dDogJyNmZmZmZmYnLFxuICAgIH0sXG4gICAgYmFja2dyb3VuZDoge1xuICAgICAgZGVmYXVsdDogY29sb3JzLmxpY29yaWNlLFxuICAgICAgcGFwZXI6IGNvbG9ycy5saWNvcmljZSxcbiAgICB9LFxuICAgIHRleHQ6IHtcbiAgICAgIHByaW1hcnk6ICcjZmZmZmZmJyxcbiAgICAgIHNlY29uZGFyeTogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC43KScsXG4gICAgICBkaXNhYmxlZDogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC41KScsXG4gICAgfSxcbiAgfSxcbiAgdHlwb2dyYXBoeToge1xuICAgIGZvbnRGYW1pbHk6ICdcIlJvYm90b1wiLCBcIkhlbHZldGljYVwiLCBcIkFyaWFsXCIsIHNhbnMtc2VyaWYnLFxuICAgIGZvbnRGYW1pbHlUYXR0b286ICdcIlRhdHRvby1Gb250XCIsIGN1cnNpdmUnLFxuICAgIGgxOiB7XG4gICAgICBmb250V2VpZ2h0OiA1MDAsXG4gICAgICBjb2xvcjogJyNmZmZmZmYnLFxuICAgIH0sXG4gICAgaDI6IHtcbiAgICAgIGZvbnRXZWlnaHQ6IDUwMCxcbiAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXG4gICAgfSxcbiAgICBoMzoge1xuICAgICAgZm9udFdlaWdodDogNTAwLFxuICAgICAgY29sb3I6ICcjZmZmZmZmJyxcbiAgICB9LFxuICAgIGg0OiB7XG4gICAgICBmb250V2VpZ2h0OiA1MDAsXG4gICAgICBjb2xvcjogJyNmZmZmZmYnLFxuICAgIH0sXG4gICAgaDU6IHtcbiAgICAgIGZvbnRXZWlnaHQ6IDUwMCxcbiAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXG4gICAgfSxcbiAgICBoNjoge1xuICAgICAgZm9udFdlaWdodDogNTAwLFxuICAgICAgY29sb3I6ICcjZmZmZmZmJyxcbiAgICB9LFxuICAgIGJ1dHRvbjoge1xuICAgICAgdGV4dFRyYW5zZm9ybTogJ25vbmUnLFxuICAgICAgZm9udFdlaWdodDogNTAwLFxuICAgIH0sXG4gIH0sXG4gIGNvbXBvbmVudHM6IHtcbiAgICBNdWlCdXR0b246IHtcbiAgICAgIHN0eWxlT3ZlcnJpZGVzOiB7XG4gICAgICAgIHJvb3Q6IHtcbiAgICAgICAgICBib3JkZXJSYWRpdXM6IDgsXG4gICAgICAgIH0sXG4gICAgICAgIGNvbnRhaW5lZDoge1xuICAgICAgICAgIGJveFNoYWRvdzogJ25vbmUnLFxuICAgICAgICAgICcmOmhvdmVyJzoge1xuICAgICAgICAgICAgYm94U2hhZG93OiAnMHB4IDJweCA0cHggcmdiYSgwLCAwLCAwLCAwLjEpJyxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9LFxuICAgIE11aUNhcmQ6IHtcbiAgICAgIHN0eWxlT3ZlcnJpZGVzOiB7XG4gICAgICAgIHJvb3Q6IHtcbiAgICAgICAgICBib3JkZXJSYWRpdXM6IDEyLFxuICAgICAgICAgIGJveFNoYWRvdzogJzBweCAycHggOHB4IHJnYmEoMCwgMCwgMCwgMC4xNSknLFxuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMyYTFhMWUnLFxuICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0sXG4gICAgTXVpQ2hpcDoge1xuICAgICAgc3R5bGVPdmVycmlkZXM6IHtcbiAgICAgICAgcm9vdDoge1xuICAgICAgICAgIGJvcmRlclJhZGl1czogNixcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICBNdWlUYWI6IHtcbiAgICAgIHN0eWxlT3ZlcnJpZGVzOiB7XG4gICAgICAgIHJvb3Q6IHtcbiAgICAgICAgICB0ZXh0VHJhbnNmb3JtOiAnbm9uZScsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0sXG4gIH0sXG59KTtcblxuLy8gRGVjbGFyZSBtb2R1bGUgYXVnbWVudGF0aW9uIGZvciBjdXN0b20gdmFyaWFudHNcbmRlY2xhcmUgbW9kdWxlICdAbXVpL21hdGVyaWFsL3N0eWxlcycge1xuICBpbnRlcmZhY2UgVHlwb2dyYXBoeVZhcmlhbnRzIHtcbiAgICB0YXR0b286IFJlYWN0LkNTU1Byb3BlcnRpZXM7XG4gIH1cblxuICAvLyBhbGxvdyBjb25maWd1cmF0aW9uIHVzaW5nIGBjcmVhdGVUaGVtZWBcbiAgaW50ZXJmYWNlIFR5cG9ncmFwaHlWYXJpYW50c09wdGlvbnMge1xuICAgIHRhdHRvbz86IFJlYWN0LkNTU1Byb3BlcnRpZXM7XG4gIH1cbn1cblxuLy8gVXBkYXRlIHRoZSBUeXBvZ3JhcGh5J3MgdmFyaWFudCBwcm9wIG9wdGlvbnNcbmRlY2xhcmUgbW9kdWxlICdAbXVpL21hdGVyaWFsL1R5cG9ncmFwaHknIHtcbiAgaW50ZXJmYWNlIFR5cG9ncmFwaHlQcm9wc1ZhcmlhbnRPdmVycmlkZXMge1xuICAgIHRhdHRvbzogdHJ1ZTtcbiAgfVxufVxuXG4vLyBBcHBseSB0aGUgbmV3IHZhcmlhbnRcbnRoZW1lLnR5cG9ncmFwaHkudGF0dG9vID0ge1xuICBmb250RmFtaWx5OiB0aGVtZS50eXBvZ3JhcGh5LmZvbnRGYW1pbHlUYXR0b28sXG4gIGZvbnRTaXplOiAnMS41cmVtJyxcbiAgW3RoZW1lLmJyZWFrcG9pbnRzLnVwKCdtZCcpXToge1xuICAgIGZvbnRTaXplOiAnMnJlbScsXG4gIH0sXG59O1xuXG5leHBvcnQgZGVmYXVsdCB0aGVtZTsiXSwibmFtZXMiOlsiY3JlYXRlVGhlbWUiLCJjb2xvcnMiLCJsaWNvcmljZSIsInBlYXJsIiwicGVyc2lhbkdyZWVuIiwidGlnZXJzRXllIiwiY3JpbXNvbiIsInRoZW1lIiwicGFsZXR0ZSIsInByaW1hcnkiLCJtYWluIiwibGlnaHQiLCJkYXJrIiwiY29udHJhc3RUZXh0Iiwic2Vjb25kYXJ5IiwiZXJyb3IiLCJiYWNrZ3JvdW5kIiwiZGVmYXVsdCIsInBhcGVyIiwidGV4dCIsImRpc2FibGVkIiwidHlwb2dyYXBoeSIsImZvbnRGYW1pbHkiLCJmb250RmFtaWx5VGF0dG9vIiwiaDEiLCJmb250V2VpZ2h0IiwiY29sb3IiLCJoMiIsImgzIiwiaDQiLCJoNSIsImg2IiwiYnV0dG9uIiwidGV4dFRyYW5zZm9ybSIsImNvbXBvbmVudHMiLCJNdWlCdXR0b24iLCJzdHlsZU92ZXJyaWRlcyIsInJvb3QiLCJib3JkZXJSYWRpdXMiLCJjb250YWluZWQiLCJib3hTaGFkb3ciLCJNdWlDYXJkIiwiYmFja2dyb3VuZENvbG9yIiwiTXVpQ2hpcCIsIk11aVRhYiIsInRhdHRvbyIsImZvbnRTaXplIiwiYnJlYWtwb2ludHMiLCJ1cCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./styles/theme.ts\n");

/***/ }),

/***/ "./utils/api.ts":
/*!**********************!*\
  !*** ./utils/api.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   api: () => (/* binding */ api),\n/* harmony export */   fetchApi: () => (/* binding */ fetchApi),\n/* harmony export */   fetchCsrfToken: () => (/* binding */ fetchCsrfToken),\n/* harmony export */   getCsrfToken: () => (/* binding */ getCsrfToken)\n/* harmony export */ });\n/* harmony import */ var _auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./auth */ \"./utils/auth.ts\");\n/* harmony import */ var _apiCache__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./apiCache */ \"./utils/apiCache.ts\");\n\n\n// Function to get CSRF token from cookies\nconst getCsrfToken = ()=>{\n    if (typeof document === \"undefined\") return null; // SSR check\n    // Get the XSRF-TOKEN cookie\n    const cookies = document.cookie.split(\";\");\n    const xsrfCookie = cookies.find((cookie)=>cookie.trim().startsWith(\"XSRF-TOKEN=\"));\n    if (!xsrfCookie) {\n        console.log(\"No XSRF-TOKEN cookie found\");\n        return null;\n    }\n    // Extract and decode the token\n    const token = xsrfCookie.split(\"=\")[1];\n    const decodedToken = token ? decodeURIComponent(token) : null;\n    if (decodedToken) {\n        console.log(\"XSRF-TOKEN found in cookies\");\n    }\n    return decodedToken;\n};\n// Function to fetch CSRF token from the server\nconst fetchCsrfToken = async ()=>{\n    if (true) return; // SSR check\n    try {\n        // The Laravel Sanctum endpoint for getting a CSRF cookie\n        const response = await fetch(\"/sanctum/csrf-cookie\", {\n            method: \"GET\",\n            credentials: \"include\"\n        });\n        if (!response.ok) {\n            console.error(\"Failed to fetch CSRF token:\", response.status, response.statusText);\n        }\n    } catch (error) {\n        console.error(\"Error fetching CSRF token:\", error);\n    }\n};\nasync function fetchApi(endpoint, options = {}) {\n    const { method = \"GET\", body, headers = {}, requiresAuth = false, // Cache options with defaults\n    useCache = method === \"GET\", cacheTTL = 5 * 60 * 1000, invalidateCache = false } = options;\n    // Generate a cache key for this request\n    const cacheKey = (0,_apiCache__WEBPACK_IMPORTED_MODULE_1__.generateCacheKey)(endpoint, method, body);\n    // Check if we should try to use the cache\n    if (useCache && !invalidateCache && method === \"GET\") {\n        const cachedData = (0,_apiCache__WEBPACK_IMPORTED_MODULE_1__.getCacheItem)(cacheKey);\n        if (cachedData !== null) {\n            console.log(`Using cached data for ${method} ${endpoint}`);\n            return cachedData;\n        }\n    }\n    // If we're invalidating the cache, clear the item now\n    if (invalidateCache) {\n        (0,_apiCache__WEBPACK_IMPORTED_MODULE_1__.clearCacheItem)(cacheKey);\n    }\n    // For all non-GET requests, ensure we have a CSRF token\n    if (method !== \"GET\" && \"undefined\" !== \"undefined\") {}\n    // Debug any GET requests to /artists\n    if (endpoint === \"/artists\" && method === \"GET\") {\n        console.warn(\" GET request to /artists detected - This should be a POST request\");\n        console.trace(\"Stack trace for GET request to /artists:\");\n        // Log the stack trace to help identify where this is coming from\n        const error = new Error(\"GET request to /artists\");\n        console.error(error.stack);\n    }\n    // Log all API requests in development\n    if (true) {\n        console.log(`${method} ${endpoint} request`, {\n            headers: JSON.stringify(headers),\n            body: body ? \"(has body)\" : \"(no body)\"\n        });\n    }\n    // Use the API URL with /api prefix for all endpoints\n    const url = `/api${endpoint}`;\n    const requestHeaders = {\n        \"Content-Type\": \"application/json\",\n        ...headers\n    };\n    // Add CSRF token header for non-GET requests\n    if (method !== \"GET\" && typeof document !== \"undefined\") {\n        const csrfToken = getCsrfToken();\n        if (csrfToken) {\n            requestHeaders[\"X-XSRF-TOKEN\"] = csrfToken;\n        }\n    }\n    if (requiresAuth) {\n        const token = (0,_auth__WEBPACK_IMPORTED_MODULE_0__.getToken)(`api-${method}-${endpoint}`);\n        if (token) {\n            requestHeaders[\"Authorization\"] = `Bearer ${token}`;\n        } else {\n            console.warn(`No auth token available for ${method} ${endpoint} request`);\n        }\n    }\n    const requestOptions = {\n        method,\n        headers: requestHeaders,\n        body: body ? JSON.stringify(body) : undefined,\n        credentials: \"include\",\n        mode: \"cors\"\n    };\n    try {\n        const response = await fetch(url, requestOptions);\n        // Handle non-JSON responses (like file downloads)\n        const contentType = response.headers.get(\"content-type\");\n        let responseData;\n        if (contentType && contentType.indexOf(\"application/json\") !== -1) {\n            responseData = await response.json();\n            if (!response.ok) {\n                throw new Error(responseData.message || \"API request failed\");\n            }\n        } else {\n            if (!response.ok) {\n                throw new Error(\"API request failed\");\n            }\n            responseData = await response.text();\n        }\n        // Cache the successful response if caching is enabled\n        if (useCache && method === \"GET\" && response.ok) {\n            console.log(`Caching response for ${method} ${endpoint}`);\n            (0,_apiCache__WEBPACK_IMPORTED_MODULE_1__.setCacheItem)(cacheKey, responseData, cacheTTL);\n        }\n        return responseData;\n    } catch (error) {\n        console.error(\"API request error:\", error);\n        throw error;\n    }\n}\n// Convenience methods for common API operations\nconst api = {\n    // GET requests with caching enabled by default\n    get: (endpoint, options = {})=>fetchApi(endpoint, {\n            ...options,\n            method: \"GET\",\n            useCache: options.useCache !== undefined ? options.useCache : true\n        }),\n    // POST requests with caching disabled by default\n    post: (endpoint, data, options = {})=>{\n        // For idempotent POST requests that act like GET (e.g. search with complex params),\n        // we can optionally enable caching\n        const useCache = options.useCache === true;\n        return fetchApi(endpoint, {\n            ...options,\n            method: \"POST\",\n            body: data,\n            useCache\n        });\n    },\n    // PUT requests with cache invalidation\n    put: (endpoint, data, options = {})=>{\n        // When we update a resource, invalidate related GET caches\n        const relatedGetEndpoint = endpoint.split(\"/\").slice(0, -1).join(\"/\");\n        (0,_apiCache__WEBPACK_IMPORTED_MODULE_1__.clearCacheItem)((0,_apiCache__WEBPACK_IMPORTED_MODULE_1__.generateCacheKey)(relatedGetEndpoint, \"GET\"));\n        return fetchApi(endpoint, {\n            ...options,\n            method: \"PUT\",\n            body: data,\n            useCache: false\n        });\n    },\n    // DELETE requests with cache invalidation\n    delete: (endpoint, options = {})=>{\n        // When we delete a resource, invalidate related GET caches\n        const relatedGetEndpoint = endpoint.split(\"/\").slice(0, -1).join(\"/\");\n        (0,_apiCache__WEBPACK_IMPORTED_MODULE_1__.clearCacheItem)((0,_apiCache__WEBPACK_IMPORTED_MODULE_1__.generateCacheKey)(relatedGetEndpoint, \"GET\"));\n        return fetchApi(endpoint, {\n            ...options,\n            method: \"DELETE\",\n            useCache: false\n        });\n    },\n    // Clear all API cache or based on a pattern\n    clearCache: (pattern)=>{\n        console.log(`Clearing API cache${pattern ? ` for pattern: ${pattern}` : \" (all items)\"}`);\n        // Use the imported clearCache function\n        (0,_apiCache__WEBPACK_IMPORTED_MODULE_1__.clearCache)(pattern);\n    },\n    // Clear cache specifically for user-related endpoints\n    clearUserCache: ()=>{\n        console.log(\"Clearing all user-related API cache\");\n        // Clear cache for common user-related endpoints\n        (0,_apiCache__WEBPACK_IMPORTED_MODULE_1__.clearCache)(\"/users/me\");\n        (0,_apiCache__WEBPACK_IMPORTED_MODULE_1__.clearCache)(\"/users/\");\n        (0,_apiCache__WEBPACK_IMPORTED_MODULE_1__.clearCache)(\"/user\");\n        (0,_apiCache__WEBPACK_IMPORTED_MODULE_1__.clearCache)(\"user\");\n        (0,_apiCache__WEBPACK_IMPORTED_MODULE_1__.clearCache)(\"profile\");\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxTQUFZQyxVQUFVO1lBQzNCLEdBQUdDLE9BQU87WUFDVlIsUUFBUTtZQUNSUyxNQUFNOEI7WUFDTjNCLFVBQVU7UUFDWjtJQUNGO0lBRUEsMENBQTBDO0lBQzFDZ0MsUUFBUSxDQUFJckMsVUFBa0JDLFVBQXNDLENBQUMsQ0FBQztRQUNwRSwyREFBMkQ7UUFDM0QsTUFBTWlDLHFCQUFxQmxDLFNBQVNwQixLQUFLLENBQUMsS0FBS3VELEtBQUssQ0FBQyxHQUFHLENBQUMsR0FBR0MsSUFBSSxDQUFDO1FBQ2pFOUQseURBQWNBLENBQUNILDJEQUFnQkEsQ0FBQytELG9CQUFvQjtRQUVwRCxPQUFPbkMsU0FBWUMsVUFBVTtZQUMzQixHQUFHQyxPQUFPO1lBQ1ZSLFFBQVE7WUFDUlksVUFBVTtRQUNaO0lBQ0Y7SUFFQSw0Q0FBNEM7SUFDNUM5QixZQUFZLENBQUMrRDtRQUNYckQsUUFBUUMsR0FBRyxDQUFDLENBQUMsa0JBQWtCLEVBQUVvRCxVQUFVLENBQUMsY0FBYyxFQUFFQSxRQUFRLENBQUMsR0FBRyxlQUFlLENBQUM7UUFFeEYsdUNBQXVDO1FBQ3ZDL0QscURBQVVBLENBQUMrRDtJQUNiO0lBRUEsc0RBQXNEO0lBQ3REQyxnQkFBZ0I7UUFDZHRELFFBQVFDLEdBQUcsQ0FBQztRQUVaLGdEQUFnRDtRQUNoRFgscURBQVVBLENBQUM7UUFDWEEscURBQVVBLENBQUM7UUFDWEEscURBQVVBLENBQUM7UUFDWEEscURBQVVBLENBQUM7UUFDWEEscURBQVVBLENBQUM7SUFDYjtBQUNGLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbmtlZGluLXdlYi8uL3V0aWxzL2FwaS50cz82ZWQwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldFRva2VuIH0gZnJvbSAnLi9hdXRoJztcbmltcG9ydCB7IFxuICBnZW5lcmF0ZUNhY2hlS2V5LCBcbiAgZ2V0Q2FjaGVJdGVtLCBcbiAgc2V0Q2FjaGVJdGVtLCBcbiAgY2xlYXJDYWNoZUl0ZW0sXG4gIGNsZWFyQ2FjaGVcbn0gZnJvbSAnLi9hcGlDYWNoZSc7XG5cbmludGVyZmFjZSBBcGlPcHRpb25zIHtcbiAgbWV0aG9kPzogJ0dFVCcgfCAnUE9TVCcgfCAnUFVUJyB8ICdERUxFVEUnO1xuICBib2R5PzogYW55O1xuICBoZWFkZXJzPzogSGVhZGVyc0luaXQ7XG4gIHJlcXVpcmVzQXV0aD86IGJvb2xlYW47XG4gIC8vIENhY2hlIG9wdGlvbnNcbiAgdXNlQ2FjaGU/OiBib29sZWFuOyAgICAgICAgLy8gV2hldGhlciB0byB1c2UgY2FjaGUgYXQgYWxsXG4gIGNhY2hlVFRMPzogbnVtYmVyOyAgICAgICAgIC8vIENhY2hlIHRpbWUtdG8tbGl2ZSBpbiBtaWxsaXNlY29uZHNcbiAgaW52YWxpZGF0ZUNhY2hlPzogYm9vbGVhbjsgLy8gRm9yY2UgYSBmcmVzaCByZXF1ZXN0IGV2ZW4gaWYgY2FjaGUgZXhpc3RzXG59XG5cbi8vIEZ1bmN0aW9uIHRvIGdldCBDU1JGIHRva2VuIGZyb20gY29va2llc1xuZXhwb3J0IGNvbnN0IGdldENzcmZUb2tlbiA9ICgpOiBzdHJpbmcgfCBudWxsID0+IHtcbiAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiBudWxsOyAvLyBTU1IgY2hlY2tcbiAgXG4gIC8vIEdldCB0aGUgWFNSRi1UT0tFTiBjb29raWVcbiAgY29uc3QgY29va2llcyA9IGRvY3VtZW50LmNvb2tpZS5zcGxpdCgnOycpO1xuICBjb25zdCB4c3JmQ29va2llID0gY29va2llcy5maW5kKGNvb2tpZSA9PiBjb29raWUudHJpbSgpLnN0YXJ0c1dpdGgoJ1hTUkYtVE9LRU49JykpO1xuICBcbiAgaWYgKCF4c3JmQ29va2llKSB7XG4gICAgY29uc29sZS5sb2coJ05vIFhTUkYtVE9LRU4gY29va2llIGZvdW5kJyk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgXG4gIC8vIEV4dHJhY3QgYW5kIGRlY29kZSB0aGUgdG9rZW5cbiAgY29uc3QgdG9rZW4gPSB4c3JmQ29va2llLnNwbGl0KCc9JylbMV07XG4gIGNvbnN0IGRlY29kZWRUb2tlbiA9IHRva2VuID8gZGVjb2RlVVJJQ29tcG9uZW50KHRva2VuKSA6IG51bGw7XG4gIFxuICBpZiAoZGVjb2RlZFRva2VuKSB7XG4gICAgY29uc29sZS5sb2coJ1hTUkYtVE9LRU4gZm91bmQgaW4gY29va2llcycpO1xuICB9XG4gIFxuICByZXR1cm4gZGVjb2RlZFRva2VuO1xufTtcblxuLy8gRnVuY3Rpb24gdG8gZmV0Y2ggQ1NSRiB0b2tlbiBmcm9tIHRoZSBzZXJ2ZXJcbmV4cG9ydCBjb25zdCBmZXRjaENzcmZUb2tlbiA9IGFzeW5jICgpOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm47IC8vIFNTUiBjaGVja1xuICBcbiAgdHJ5IHtcbiAgICAvLyBUaGUgTGFyYXZlbCBTYW5jdHVtIGVuZHBvaW50IGZvciBnZXR0aW5nIGEgQ1NSRiBjb29raWVcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvc2FuY3R1bS9jc3JmLWNvb2tpZScsIHtcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnLFxuICAgIH0pO1xuICAgIFxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCBDU1JGIHRva2VuOicsIHJlc3BvbnNlLnN0YXR1cywgcmVzcG9uc2Uuc3RhdHVzVGV4dCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIENTUkYgdG9rZW46JywgZXJyb3IpO1xuICB9XG59O1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmV0Y2hBcGk8VD4oZW5kcG9pbnQ6IHN0cmluZywgb3B0aW9uczogQXBpT3B0aW9ucyA9IHt9KTogUHJvbWlzZTxUPiB7XG4gIGNvbnN0IHtcbiAgICBtZXRob2QgPSAnR0VUJyxcbiAgICBib2R5LFxuICAgIGhlYWRlcnMgPSB7fSxcbiAgICByZXF1aXJlc0F1dGggPSBmYWxzZSxcbiAgICAvLyBDYWNoZSBvcHRpb25zIHdpdGggZGVmYXVsdHNcbiAgICB1c2VDYWNoZSA9IG1ldGhvZCA9PT0gJ0dFVCcsIC8vIE9ubHkgY2FjaGUgR0VUIHJlcXVlc3RzIGJ5IGRlZmF1bHRcbiAgICBjYWNoZVRUTCA9IDUgKiA2MCAqIDEwMDAsICAgIC8vIDUgbWludXRlcyBkZWZhdWx0IFRUTFxuICAgIGludmFsaWRhdGVDYWNoZSA9IGZhbHNlLCAgICAgIC8vIERvbid0IGludmFsaWRhdGUgYnkgZGVmYXVsdFxuICB9ID0gb3B0aW9ucztcbiAgXG4gIC8vIEdlbmVyYXRlIGEgY2FjaGUga2V5IGZvciB0aGlzIHJlcXVlc3RcbiAgY29uc3QgY2FjaGVLZXkgPSBnZW5lcmF0ZUNhY2hlS2V5KGVuZHBvaW50LCBtZXRob2QsIGJvZHkpO1xuICBcbiAgLy8gQ2hlY2sgaWYgd2Ugc2hvdWxkIHRyeSB0byB1c2UgdGhlIGNhY2hlXG4gIGlmICh1c2VDYWNoZSAmJiAhaW52YWxpZGF0ZUNhY2hlICYmIG1ldGhvZCA9PT0gJ0dFVCcpIHtcbiAgICBjb25zdCBjYWNoZWREYXRhID0gZ2V0Q2FjaGVJdGVtPFQ+KGNhY2hlS2V5KTtcbiAgICBpZiAoY2FjaGVkRGF0YSAhPT0gbnVsbCkge1xuICAgICAgY29uc29sZS5sb2coYFVzaW5nIGNhY2hlZCBkYXRhIGZvciAke21ldGhvZH0gJHtlbmRwb2ludH1gKTtcbiAgICAgIHJldHVybiBjYWNoZWREYXRhO1xuICAgIH1cbiAgfVxuICBcbiAgLy8gSWYgd2UncmUgaW52YWxpZGF0aW5nIHRoZSBjYWNoZSwgY2xlYXIgdGhlIGl0ZW0gbm93XG4gIGlmIChpbnZhbGlkYXRlQ2FjaGUpIHtcbiAgICBjbGVhckNhY2hlSXRlbShjYWNoZUtleSk7XG4gIH1cblxuICAvLyBGb3IgYWxsIG5vbi1HRVQgcmVxdWVzdHMsIGVuc3VyZSB3ZSBoYXZlIGEgQ1NSRiB0b2tlblxuICBpZiAobWV0aG9kICE9PSAnR0VUJyAmJiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgIC8vIFRyeSB0byBnZXQgZXhpc3RpbmcgdG9rZW4gZmlyc3RcbiAgICBsZXQgY3NyZlRva2VuID0gZ2V0Q3NyZlRva2VuKCk7XG4gICAgXG4gICAgLy8gSWYgbm8gdG9rZW4gaXMgZm91bmQsIGZldGNoIGEgbmV3IG9uZVxuICAgIGlmICghY3NyZlRva2VuKSB7XG4gICAgICBhd2FpdCBmZXRjaENzcmZUb2tlbigpO1xuICAgICAgY3NyZlRva2VuID0gZ2V0Q3NyZlRva2VuKCk7XG4gICAgfVxuICB9XG5cbiAgLy8gRGVidWcgYW55IEdFVCByZXF1ZXN0cyB0byAvYXJ0aXN0c1xuICBpZiAoZW5kcG9pbnQgPT09ICcvYXJ0aXN0cycgJiYgbWV0aG9kID09PSAnR0VUJykge1xuICAgIGNvbnNvbGUud2Fybign4p2MIEdFVCByZXF1ZXN0IHRvIC9hcnRpc3RzIGRldGVjdGVkIC0gVGhpcyBzaG91bGQgYmUgYSBQT1NUIHJlcXVlc3QnKTtcbiAgICBjb25zb2xlLnRyYWNlKCdTdGFjayB0cmFjZSBmb3IgR0VUIHJlcXVlc3QgdG8gL2FydGlzdHM6Jyk7XG4gICAgLy8gTG9nIHRoZSBzdGFjayB0cmFjZSB0byBoZWxwIGlkZW50aWZ5IHdoZXJlIHRoaXMgaXMgY29taW5nIGZyb21cbiAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcignR0VUIHJlcXVlc3QgdG8gL2FydGlzdHMnKTtcbiAgICBjb25zb2xlLmVycm9yKGVycm9yLnN0YWNrKTtcbiAgfVxuICBcbiAgLy8gTG9nIGFsbCBBUEkgcmVxdWVzdHMgaW4gZGV2ZWxvcG1lbnRcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBjb25zb2xlLmxvZyhgJHttZXRob2R9ICR7ZW5kcG9pbnR9IHJlcXVlc3RgLCB7IFxuICAgICAgaGVhZGVyczogSlNPTi5zdHJpbmdpZnkoaGVhZGVycyksXG4gICAgICBib2R5OiBib2R5ID8gJyhoYXMgYm9keSknIDogJyhubyBib2R5KSdcbiAgICB9KTtcbiAgfVxuXG4gIC8vIFVzZSB0aGUgQVBJIFVSTCB3aXRoIC9hcGkgcHJlZml4IGZvciBhbGwgZW5kcG9pbnRzXG4gIGNvbnN0IHVybCA9IGAvYXBpJHtlbmRwb2ludH1gO1xuXG4gIGNvbnN0IHJlcXVlc3RIZWFkZXJzOiBIZWFkZXJzSW5pdCA9IHtcbiAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgIC4uLmhlYWRlcnMsXG4gIH07XG5cbiAgLy8gQWRkIENTUkYgdG9rZW4gaGVhZGVyIGZvciBub24tR0VUIHJlcXVlc3RzXG4gIGlmIChtZXRob2QgIT09ICdHRVQnICYmIHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBjb25zdCBjc3JmVG9rZW4gPSBnZXRDc3JmVG9rZW4oKTtcbiAgICBpZiAoY3NyZlRva2VuKSB7XG4gICAgICByZXF1ZXN0SGVhZGVyc1snWC1YU1JGLVRPS0VOJ10gPSBjc3JmVG9rZW47XG4gICAgfVxuICB9XG5cbiAgaWYgKHJlcXVpcmVzQXV0aCkge1xuICAgIGNvbnN0IHRva2VuID0gZ2V0VG9rZW4oYGFwaS0ke21ldGhvZH0tJHtlbmRwb2ludH1gKTtcbiAgICBcbiAgICBpZiAodG9rZW4pIHtcbiAgICAgIHJlcXVlc3RIZWFkZXJzWydBdXRob3JpemF0aW9uJ10gPSBgQmVhcmVyICR7dG9rZW59YDtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS53YXJuKGBObyBhdXRoIHRva2VuIGF2YWlsYWJsZSBmb3IgJHttZXRob2R9ICR7ZW5kcG9pbnR9IHJlcXVlc3RgKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdEluaXQgPSB7XG4gICAgbWV0aG9kLFxuICAgIGhlYWRlcnM6IHJlcXVlc3RIZWFkZXJzLFxuICAgIGJvZHk6IGJvZHkgPyBKU09OLnN0cmluZ2lmeShib2R5KSA6IHVuZGVmaW5lZCxcbiAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnLCAvLyBJbmNsdWRlIGNvb2tpZXMgZm9yIGNyb3NzLW9yaWdpbiByZXF1ZXN0c1xuICAgIG1vZGU6ICdjb3JzJywgLy8gRXhwbGljaXRseSBzZXQgQ09SUyBtb2RlXG4gIH07XG5cbiAgdHJ5IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIFxuICAgIC8vIEhhbmRsZSBub24tSlNPTiByZXNwb25zZXMgKGxpa2UgZmlsZSBkb3dubG9hZHMpXG4gICAgY29uc3QgY29udGVudFR5cGUgPSByZXNwb25zZS5oZWFkZXJzLmdldCgnY29udGVudC10eXBlJyk7XG4gICAgbGV0IHJlc3BvbnNlRGF0YTogYW55O1xuICAgIFxuICAgIGlmIChjb250ZW50VHlwZSAmJiBjb250ZW50VHlwZS5pbmRleE9mKCdhcHBsaWNhdGlvbi9qc29uJykgIT09IC0xKSB7XG4gICAgICByZXNwb25zZURhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3BvbnNlRGF0YS5tZXNzYWdlIHx8ICdBUEkgcmVxdWVzdCBmYWlsZWQnKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FQSSByZXF1ZXN0IGZhaWxlZCcpO1xuICAgICAgfVxuICAgICAgXG4gICAgICByZXNwb25zZURhdGEgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgfVxuICAgIFxuICAgIC8vIENhY2hlIHRoZSBzdWNjZXNzZnVsIHJlc3BvbnNlIGlmIGNhY2hpbmcgaXMgZW5hYmxlZFxuICAgIGlmICh1c2VDYWNoZSAmJiBtZXRob2QgPT09ICdHRVQnICYmIHJlc3BvbnNlLm9rKSB7XG4gICAgICBjb25zb2xlLmxvZyhgQ2FjaGluZyByZXNwb25zZSBmb3IgJHttZXRob2R9ICR7ZW5kcG9pbnR9YCk7XG4gICAgICBzZXRDYWNoZUl0ZW0oY2FjaGVLZXksIHJlc3BvbnNlRGF0YSwgY2FjaGVUVEwpO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gcmVzcG9uc2VEYXRhIGFzIFQ7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignQVBJIHJlcXVlc3QgZXJyb3I6JywgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbi8vIENvbnZlbmllbmNlIG1ldGhvZHMgZm9yIGNvbW1vbiBBUEkgb3BlcmF0aW9uc1xuZXhwb3J0IGNvbnN0IGFwaSA9IHtcbiAgLy8gR0VUIHJlcXVlc3RzIHdpdGggY2FjaGluZyBlbmFibGVkIGJ5IGRlZmF1bHRcbiAgZ2V0OiA8VD4oZW5kcG9pbnQ6IHN0cmluZywgb3B0aW9uczogT21pdDxBcGlPcHRpb25zLCAnbWV0aG9kJyB8ICdib2R5Jz4gPSB7fSkgPT4gXG4gICAgZmV0Y2hBcGk8VD4oZW5kcG9pbnQsIHsgXG4gICAgICAuLi5vcHRpb25zLCBcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICB1c2VDYWNoZTogb3B0aW9ucy51c2VDYWNoZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy51c2VDYWNoZSA6IHRydWVcbiAgICB9KSxcbiAgXG4gIC8vIFBPU1QgcmVxdWVzdHMgd2l0aCBjYWNoaW5nIGRpc2FibGVkIGJ5IGRlZmF1bHRcbiAgcG9zdDogPFQ+KGVuZHBvaW50OiBzdHJpbmcsIGRhdGE6IGFueSwgb3B0aW9uczogT21pdDxBcGlPcHRpb25zLCAnbWV0aG9kJz4gPSB7fSkgPT4ge1xuICAgIC8vIEZvciBpZGVtcG90ZW50IFBPU1QgcmVxdWVzdHMgdGhhdCBhY3QgbGlrZSBHRVQgKGUuZy4gc2VhcmNoIHdpdGggY29tcGxleCBwYXJhbXMpLFxuICAgIC8vIHdlIGNhbiBvcHRpb25hbGx5IGVuYWJsZSBjYWNoaW5nXG4gICAgY29uc3QgdXNlQ2FjaGUgPSBvcHRpb25zLnVzZUNhY2hlID09PSB0cnVlO1xuICAgIFxuICAgIHJldHVybiBmZXRjaEFwaTxUPihlbmRwb2ludCwgeyBcbiAgICAgIC4uLm9wdGlvbnMsIFxuICAgICAgbWV0aG9kOiAnUE9TVCcsIFxuICAgICAgYm9keTogZGF0YSxcbiAgICAgIHVzZUNhY2hlIFxuICAgIH0pO1xuICB9LFxuICBcbiAgLy8gUFVUIHJlcXVlc3RzIHdpdGggY2FjaGUgaW52YWxpZGF0aW9uXG4gIHB1dDogPFQ+KGVuZHBvaW50OiBzdHJpbmcsIGRhdGE6IGFueSwgb3B0aW9uczogT21pdDxBcGlPcHRpb25zLCAnbWV0aG9kJz4gPSB7fSkgPT4ge1xuICAgIC8vIFdoZW4gd2UgdXBkYXRlIGEgcmVzb3VyY2UsIGludmFsaWRhdGUgcmVsYXRlZCBHRVQgY2FjaGVzXG4gICAgY29uc3QgcmVsYXRlZEdldEVuZHBvaW50ID0gZW5kcG9pbnQuc3BsaXQoJy8nKS5zbGljZSgwLCAtMSkuam9pbignLycpO1xuICAgIGNsZWFyQ2FjaGVJdGVtKGdlbmVyYXRlQ2FjaGVLZXkocmVsYXRlZEdldEVuZHBvaW50LCAnR0VUJykpO1xuICAgIFxuICAgIHJldHVybiBmZXRjaEFwaTxUPihlbmRwb2ludCwgeyBcbiAgICAgIC4uLm9wdGlvbnMsIFxuICAgICAgbWV0aG9kOiAnUFVUJywgXG4gICAgICBib2R5OiBkYXRhLFxuICAgICAgdXNlQ2FjaGU6IGZhbHNlIFxuICAgIH0pO1xuICB9LFxuICBcbiAgLy8gREVMRVRFIHJlcXVlc3RzIHdpdGggY2FjaGUgaW52YWxpZGF0aW9uXG4gIGRlbGV0ZTogPFQ+KGVuZHBvaW50OiBzdHJpbmcsIG9wdGlvbnM6IE9taXQ8QXBpT3B0aW9ucywgJ21ldGhvZCc+ID0ge30pID0+IHtcbiAgICAvLyBXaGVuIHdlIGRlbGV0ZSBhIHJlc291cmNlLCBpbnZhbGlkYXRlIHJlbGF0ZWQgR0VUIGNhY2hlc1xuICAgIGNvbnN0IHJlbGF0ZWRHZXRFbmRwb2ludCA9IGVuZHBvaW50LnNwbGl0KCcvJykuc2xpY2UoMCwgLTEpLmpvaW4oJy8nKTtcbiAgICBjbGVhckNhY2hlSXRlbShnZW5lcmF0ZUNhY2hlS2V5KHJlbGF0ZWRHZXRFbmRwb2ludCwgJ0dFVCcpKTtcbiAgICBcbiAgICByZXR1cm4gZmV0Y2hBcGk8VD4oZW5kcG9pbnQsIHsgXG4gICAgICAuLi5vcHRpb25zLCBcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICB1c2VDYWNoZTogZmFsc2UgXG4gICAgfSk7XG4gIH0sXG4gIFxuICAvLyBDbGVhciBhbGwgQVBJIGNhY2hlIG9yIGJhc2VkIG9uIGEgcGF0dGVyblxuICBjbGVhckNhY2hlOiAocGF0dGVybj86IHN0cmluZyk6IHZvaWQgPT4ge1xuICAgIGNvbnNvbGUubG9nKGBDbGVhcmluZyBBUEkgY2FjaGUke3BhdHRlcm4gPyBgIGZvciBwYXR0ZXJuOiAke3BhdHRlcm59YCA6ICcgKGFsbCBpdGVtcyknfWApO1xuICAgIFxuICAgIC8vIFVzZSB0aGUgaW1wb3J0ZWQgY2xlYXJDYWNoZSBmdW5jdGlvblxuICAgIGNsZWFyQ2FjaGUocGF0dGVybik7XG4gIH0sXG4gIFxuICAvLyBDbGVhciBjYWNoZSBzcGVjaWZpY2FsbHkgZm9yIHVzZXItcmVsYXRlZCBlbmRwb2ludHNcbiAgY2xlYXJVc2VyQ2FjaGU6ICgpOiB2b2lkID0+IHtcbiAgICBjb25zb2xlLmxvZygnQ2xlYXJpbmcgYWxsIHVzZXItcmVsYXRlZCBBUEkgY2FjaGUnKTtcbiAgICBcbiAgICAvLyBDbGVhciBjYWNoZSBmb3IgY29tbW9uIHVzZXItcmVsYXRlZCBlbmRwb2ludHNcbiAgICBjbGVhckNhY2hlKCcvdXNlcnMvbWUnKTtcbiAgICBjbGVhckNhY2hlKCcvdXNlcnMvJyk7XG4gICAgY2xlYXJDYWNoZSgnL3VzZXInKTtcbiAgICBjbGVhckNhY2hlKCd1c2VyJyk7XG4gICAgY2xlYXJDYWNoZSgncHJvZmlsZScpO1xuICB9XG59OyJdLCJuYW1lcyI6WyJnZXRUb2tlbiIsImdlbmVyYXRlQ2FjaGVLZXkiLCJnZXRDYWNoZUl0ZW0iLCJzZXRDYWNoZUl0ZW0iLCJjbGVhckNhY2hlSXRlbSIsImNsZWFyQ2FjaGUiLCJnZXRDc3JmVG9rZW4iLCJkb2N1bWVudCIsImNvb2tpZXMiLCJjb29raWUiLCJzcGxpdCIsInhzcmZDb29raWUiLCJmaW5kIiwidHJpbSIsInN0YXJ0c1dpdGgiLCJjb25zb2xlIiwibG9nIiwidG9rZW4iLCJkZWNvZGVkVG9rZW4iLCJkZWNvZGVVUklDb21wb25lbnQiLCJmZXRjaENzcmZUb2tlbiIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJjcmVkZW50aWFscyIsIm9rIiwiZXJyb3IiLCJzdGF0dXMiLCJzdGF0dXNUZXh0IiwiZmV0Y2hBcGkiLCJlbmRwb2ludCIsIm9wdGlvbnMiLCJib2R5IiwiaGVhZGVycyIsInJlcXVpcmVzQXV0aCIsInVzZUNhY2hlIiwiY2FjaGVUVEwiLCJpbnZhbGlkYXRlQ2FjaGUiLCJjYWNoZUtleSIsImNhY2hlZERhdGEiLCJjc3JmVG9rZW4iLCJ3YXJuIiwidHJhY2UiLCJFcnJvciIsInN0YWNrIiwicHJvY2VzcyIsIkpTT04iLCJzdHJpbmdpZnkiLCJ1cmwiLCJyZXF1ZXN0SGVhZGVycyIsInJlcXVlc3RPcHRpb25zIiwidW5kZWZpbmVkIiwibW9kZSIsImNvbnRlbnRUeXBlIiwiZ2V0IiwicmVzcG9uc2VEYXRhIiwiaW5kZXhPZiIsImpzb24iLCJtZXNzYWdlIiwidGV4dCIsImFwaSIsInBvc3QiLCJkYXRhIiwicHV0IiwicmVsYXRlZEdldEVuZHBvaW50Iiwic2xpY2UiLCJqb2luIiwiZGVsZXRlIiwicGF0dGVybiIsImNsZWFyVXNlckNhY2hlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./utils/api.ts\n");

/***/ }),

/***/ "./utils/apiCache.ts":
/*!***************************!*\
  !*** ./utils/apiCache.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clearCache: () => (/* binding */ clearCache),\n/* harmony export */   clearCacheItem: () => (/* binding */ clearCacheItem),\n/* harmony export */   debugCache: () => (/* binding */ debugCache),\n/* harmony export */   generateCacheKey: () => (/* binding */ generateCacheKey),\n/* harmony export */   getCacheItem: () => (/* binding */ getCacheItem),\n/* harmony export */   getCacheTimeRemaining: () => (/* binding */ getCacheTimeRemaining),\n/* harmony export */   hasCacheItem: () => (/* binding */ hasCacheItem),\n/* harmony export */   setCacheItem: () => (/* binding */ setCacheItem)\n/* harmony export */ });\n// API Cache Utility\n// This utility provides a way to cache API responses and reduce duplicate API calls\n// Cache storage with TTL (time to live)\n// In-memory cache\nconst cache = {};\n// Default cache duration: 5 minutes\nconst DEFAULT_CACHE_DURATION = 5 * 60 * 1000;\n/**\n * Generate a cache key based on endpoint and parameters\n */ const generateCacheKey = (endpoint, method = \"GET\", params)=>{\n    // For GET requests, the key is simply the endpoint\n    // For other methods, include the params in the key to differentiate between different payloads\n    const paramsString = params ? JSON.stringify(params) : \"\";\n    return `${method}:${endpoint}${paramsString ? `:${paramsString}` : \"\"}`;\n};\n/**\n * Store data in the cache\n */ const setCacheItem = (key, data, ttl = DEFAULT_CACHE_DURATION)=>{\n    cache[key] = {\n        data,\n        timestamp: Date.now(),\n        ttl\n    };\n};\n/**\n * Get data from the cache if it exists and hasn't expired\n */ const getCacheItem = (key)=>{\n    const item = cache[key];\n    // If item doesn't exist, return null\n    if (!item) {\n        return null;\n    }\n    // Check if item has expired\n    const now = Date.now();\n    if (now - item.timestamp > item.ttl) {\n        // Remove expired item\n        delete cache[key];\n        return null;\n    }\n    return item.data;\n};\n/**\n * Clear a specific cache item\n */ const clearCacheItem = (key)=>{\n    delete cache[key];\n};\n/**\n * Clear all cache items or those matching a pattern\n */ const clearCache = (pattern)=>{\n    if (!pattern) {\n        // Clear all cache\n        Object.keys(cache).forEach((key)=>delete cache[key]);\n    } else {\n        // Clear cache items matching the pattern\n        Object.keys(cache).forEach((key)=>{\n            if (key.includes(pattern)) {\n                delete cache[key];\n            }\n        });\n    }\n};\n/**\n * Get time remaining before cache expiration (in milliseconds)\n */ const getCacheTimeRemaining = (key)=>{\n    const item = cache[key];\n    if (!item) {\n        return 0;\n    }\n    const now = Date.now();\n    const elapsed = now - item.timestamp;\n    const remaining = item.ttl - elapsed;\n    return Math.max(0, remaining);\n};\n/**\n * Check if a cache item exists and is valid\n */ const hasCacheItem = (key)=>{\n    return getCacheItem(key) !== null;\n};\n// Debug function to view cache contents\nconst debugCache = ()=>{\n    const debugInfo = {};\n    Object.keys(cache).forEach((key)=>{\n        const item = cache[key];\n        debugInfo[key] = {\n            hasData: !!item.data,\n            dataType: typeof item.data,\n            isArray: Array.isArray(item.data),\n            timestamp: new Date(item.timestamp).toISOString(),\n            ttl: item.ttl,\n            timeRemaining: getCacheTimeRemaining(key)\n        };\n    });\n    return debugInfo;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LE1BQU1ELE9BQU8sQ0FBQ2xCLEtBQUtOLElBQUk7WUFDaENFLFdBQVcsSUFBSUMsS0FBS0csS0FBS0osU0FBUyxFQUFFd0IsV0FBVztZQUMvQ3pCLEtBQUtLLEtBQUtMLEdBQUc7WUFDYjBCLGVBQWViLHNCQUFzQmY7UUFDdkM7SUFDRjtJQUVBLE9BQU9zQjtBQUNULEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbmtlZGluLXdlYi8uL3V0aWxzL2FwaUNhY2hlLnRzP2FkYTYiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQVBJIENhY2hlIFV0aWxpdHlcbi8vIFRoaXMgdXRpbGl0eSBwcm92aWRlcyBhIHdheSB0byBjYWNoZSBBUEkgcmVzcG9uc2VzIGFuZCByZWR1Y2UgZHVwbGljYXRlIEFQSSBjYWxsc1xuXG4vLyBDYWNoZSBzdG9yYWdlIHdpdGggVFRMICh0aW1lIHRvIGxpdmUpXG5pbnRlcmZhY2UgQ2FjaGVJdGVtPFQ+IHtcbiAgZGF0YTogVDtcbiAgdGltZXN0YW1wOiBudW1iZXI7XG4gIHR0bDogbnVtYmVyOyAvLyBUaW1lIHRvIGxpdmUgaW4gbWlsbGlzZWNvbmRzXG59XG5cbi8vIEluLW1lbW9yeSBjYWNoZVxuY29uc3QgY2FjaGU6IFJlY29yZDxzdHJpbmcsIENhY2hlSXRlbTxhbnk+PiA9IHt9O1xuXG4vLyBEZWZhdWx0IGNhY2hlIGR1cmF0aW9uOiA1IG1pbnV0ZXNcbmNvbnN0IERFRkFVTFRfQ0FDSEVfRFVSQVRJT04gPSA1ICogNjAgKiAxMDAwO1xuXG4vKipcbiAqIEdlbmVyYXRlIGEgY2FjaGUga2V5IGJhc2VkIG9uIGVuZHBvaW50IGFuZCBwYXJhbWV0ZXJzXG4gKi9cbmV4cG9ydCBjb25zdCBnZW5lcmF0ZUNhY2hlS2V5ID0gKFxuICBlbmRwb2ludDogc3RyaW5nLCBcbiAgbWV0aG9kOiBzdHJpbmcgPSAnR0VUJywgXG4gIHBhcmFtcz86IGFueVxuKTogc3RyaW5nID0+IHtcbiAgLy8gRm9yIEdFVCByZXF1ZXN0cywgdGhlIGtleSBpcyBzaW1wbHkgdGhlIGVuZHBvaW50XG4gIC8vIEZvciBvdGhlciBtZXRob2RzLCBpbmNsdWRlIHRoZSBwYXJhbXMgaW4gdGhlIGtleSB0byBkaWZmZXJlbnRpYXRlIGJldHdlZW4gZGlmZmVyZW50IHBheWxvYWRzXG4gIGNvbnN0IHBhcmFtc1N0cmluZyA9IHBhcmFtcyA/IEpTT04uc3RyaW5naWZ5KHBhcmFtcykgOiAnJztcbiAgcmV0dXJuIGAke21ldGhvZH06JHtlbmRwb2ludH0ke3BhcmFtc1N0cmluZyA/IGA6JHtwYXJhbXNTdHJpbmd9YCA6ICcnfWA7XG59O1xuXG4vKipcbiAqIFN0b3JlIGRhdGEgaW4gdGhlIGNhY2hlXG4gKi9cbmV4cG9ydCBjb25zdCBzZXRDYWNoZUl0ZW0gPSA8VD4oXG4gIGtleTogc3RyaW5nLFxuICBkYXRhOiBULFxuICB0dGw6IG51bWJlciA9IERFRkFVTFRfQ0FDSEVfRFVSQVRJT05cbik6IHZvaWQgPT4ge1xuICBjYWNoZVtrZXldID0ge1xuICAgIGRhdGEsXG4gICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgIHR0bFxuICB9O1xufTtcblxuLyoqXG4gKiBHZXQgZGF0YSBmcm9tIHRoZSBjYWNoZSBpZiBpdCBleGlzdHMgYW5kIGhhc24ndCBleHBpcmVkXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRDYWNoZUl0ZW0gPSA8VD4oa2V5OiBzdHJpbmcpOiBUIHwgbnVsbCA9PiB7XG4gIGNvbnN0IGl0ZW0gPSBjYWNoZVtrZXldO1xuICBcbiAgLy8gSWYgaXRlbSBkb2Vzbid0IGV4aXN0LCByZXR1cm4gbnVsbFxuICBpZiAoIWl0ZW0pIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBcbiAgLy8gQ2hlY2sgaWYgaXRlbSBoYXMgZXhwaXJlZFxuICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICBpZiAobm93IC0gaXRlbS50aW1lc3RhbXAgPiBpdGVtLnR0bCkge1xuICAgIC8vIFJlbW92ZSBleHBpcmVkIGl0ZW1cbiAgICBkZWxldGUgY2FjaGVba2V5XTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBcbiAgcmV0dXJuIGl0ZW0uZGF0YTtcbn07XG5cbi8qKlxuICogQ2xlYXIgYSBzcGVjaWZpYyBjYWNoZSBpdGVtXG4gKi9cbmV4cG9ydCBjb25zdCBjbGVhckNhY2hlSXRlbSA9IChrZXk6IHN0cmluZyk6IHZvaWQgPT4ge1xuICBkZWxldGUgY2FjaGVba2V5XTtcbn07XG5cbi8qKlxuICogQ2xlYXIgYWxsIGNhY2hlIGl0ZW1zIG9yIHRob3NlIG1hdGNoaW5nIGEgcGF0dGVyblxuICovXG5leHBvcnQgY29uc3QgY2xlYXJDYWNoZSA9IChwYXR0ZXJuPzogc3RyaW5nKTogdm9pZCA9PiB7XG4gIGlmICghcGF0dGVybikge1xuICAgIC8vIENsZWFyIGFsbCBjYWNoZVxuICAgIE9iamVjdC5rZXlzKGNhY2hlKS5mb3JFYWNoKGtleSA9PiBkZWxldGUgY2FjaGVba2V5XSk7XG4gIH0gZWxzZSB7XG4gICAgLy8gQ2xlYXIgY2FjaGUgaXRlbXMgbWF0Y2hpbmcgdGhlIHBhdHRlcm5cbiAgICBPYmplY3Qua2V5cyhjYWNoZSkuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgaWYgKGtleS5pbmNsdWRlcyhwYXR0ZXJuKSkge1xuICAgICAgICBkZWxldGUgY2FjaGVba2V5XTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufTtcblxuLyoqXG4gKiBHZXQgdGltZSByZW1haW5pbmcgYmVmb3JlIGNhY2hlIGV4cGlyYXRpb24gKGluIG1pbGxpc2Vjb25kcylcbiAqL1xuZXhwb3J0IGNvbnN0IGdldENhY2hlVGltZVJlbWFpbmluZyA9IChrZXk6IHN0cmluZyk6IG51bWJlciA9PiB7XG4gIGNvbnN0IGl0ZW0gPSBjYWNoZVtrZXldO1xuICBcbiAgaWYgKCFpdGVtKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgXG4gIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gIGNvbnN0IGVsYXBzZWQgPSBub3cgLSBpdGVtLnRpbWVzdGFtcDtcbiAgY29uc3QgcmVtYWluaW5nID0gaXRlbS50dGwgLSBlbGFwc2VkO1xuICBcbiAgcmV0dXJuIE1hdGgubWF4KDAsIHJlbWFpbmluZyk7XG59O1xuXG4vKipcbiAqIENoZWNrIGlmIGEgY2FjaGUgaXRlbSBleGlzdHMgYW5kIGlzIHZhbGlkXG4gKi9cbmV4cG9ydCBjb25zdCBoYXNDYWNoZUl0ZW0gPSAoa2V5OiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgcmV0dXJuIGdldENhY2hlSXRlbShrZXkpICE9PSBudWxsO1xufTtcblxuLy8gRGVidWcgZnVuY3Rpb24gdG8gdmlldyBjYWNoZSBjb250ZW50c1xuZXhwb3J0IGNvbnN0IGRlYnVnQ2FjaGUgPSAoKTogUmVjb3JkPHN0cmluZywgYW55PiA9PiB7XG4gIGNvbnN0IGRlYnVnSW5mbzogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuICBcbiAgT2JqZWN0LmtleXMoY2FjaGUpLmZvckVhY2goa2V5ID0+IHtcbiAgICBjb25zdCBpdGVtID0gY2FjaGVba2V5XTtcbiAgICBkZWJ1Z0luZm9ba2V5XSA9IHtcbiAgICAgIGhhc0RhdGE6ICEhaXRlbS5kYXRhLFxuICAgICAgZGF0YVR5cGU6IHR5cGVvZiBpdGVtLmRhdGEsXG4gICAgICBpc0FycmF5OiBBcnJheS5pc0FycmF5KGl0ZW0uZGF0YSksXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKGl0ZW0udGltZXN0YW1wKS50b0lTT1N0cmluZygpLFxuICAgICAgdHRsOiBpdGVtLnR0bCxcbiAgICAgIHRpbWVSZW1haW5pbmc6IGdldENhY2hlVGltZVJlbWFpbmluZyhrZXkpLFxuICAgIH07XG4gIH0pO1xuICBcbiAgcmV0dXJuIGRlYnVnSW5mbztcbn07Il0sIm5hbWVzIjpbImNhY2hlIiwiREVGQVVMVF9DQUNIRV9EVVJBVElPTiIsImdlbmVyYXRlQ2FjaGVLZXkiLCJlbmRwb2ludCIsIm1ldGhvZCIsInBhcmFtcyIsInBhcmFtc1N0cmluZyIsIkpTT04iLCJzdHJpbmdpZnkiLCJzZXRDYWNoZUl0ZW0iLCJrZXkiLCJkYXRhIiwidHRsIiwidGltZXN0YW1wIiwiRGF0ZSIsIm5vdyIsImdldENhY2hlSXRlbSIsIml0ZW0iLCJjbGVhckNhY2hlSXRlbSIsImNsZWFyQ2FjaGUiLCJwYXR0ZXJuIiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJpbmNsdWRlcyIsImdldENhY2hlVGltZVJlbWFpbmluZyIsImVsYXBzZWQiLCJyZW1haW5pbmciLCJNYXRoIiwibWF4IiwiaGFzQ2FjaGVJdGVtIiwiZGVidWdDYWNoZSIsImRlYnVnSW5mbyIsImhhc0RhdGEiLCJkYXRhVHlwZSIsImlzQXJyYXkiLCJBcnJheSIsInRvSVNPU3RyaW5nIiwidGltZVJlbWFpbmluZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./utils/apiCache.ts\n");

/***/ }),

/***/ "./utils/auth.ts":
/*!***********************!*\
  !*** ./utils/auth.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   checkAuth: () => (/* binding */ checkAuth),\n/* harmony export */   getToken: () => (/* binding */ getToken),\n/* harmony export */   login: () => (/* binding */ login),\n/* harmony export */   logout: () => (/* binding */ logout),\n/* harmony export */   register: () => (/* binding */ register),\n/* harmony export */   removeToken: () => (/* binding */ removeToken),\n/* harmony export */   setToken: () => (/* binding */ setToken)\n/* harmony export */ });\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./api */ \"./utils/api.ts\");\n/* harmony import */ var _apiCache__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./apiCache */ \"./utils/apiCache.ts\");\n\n\n// Token management\nconst getToken = (source = \"unknown\")=>{\n    if (true) {\n        console.log(`getToken called during SSR from ${source} - no token available`);\n        return null;\n    }\n    try {\n        const token = localStorage.getItem(\"auth_token\");\n        if (!token) {\n            console.log(`No auth token found in localStorage (requested by ${source})`);\n        } else {\n            // Only log the first few characters of the token for security\n            const tokenPreview = token.substring(0, 10) + \"...\";\n            console.log(`Auth token retrieved from localStorage (requested by ${source}): ${tokenPreview}`);\n        }\n        return token;\n    } catch (error) {\n        console.error(`Error reading token from localStorage (requested by ${source}):`, error);\n        return null;\n    }\n};\nconst setToken = (token)=>{\n    if (true) {\n        console.warn(\"setToken called during SSR - token will not be saved\");\n        return;\n    }\n    try {\n        console.log(\"Setting auth token in localStorage\");\n        localStorage.setItem(\"auth_token\", token);\n        // Verify immediately\n        const storedToken = localStorage.getItem(\"auth_token\");\n        if (storedToken !== token) {\n            console.error(\"Token verification failed - stored token does not match the token being set\");\n        }\n    } catch (error) {\n        console.error(\"Error setting token in localStorage:\", error);\n    }\n};\nconst removeToken = ()=>{\n    if (false) {}\n};\nconst login = async (credentials)=>{\n    try {\n        const response = await _api__WEBPACK_IMPORTED_MODULE_0__.api.post(\"/login\", credentials);\n        console.log(\"Login response received:\", JSON.stringify(response, null, 2));\n        // Extract token from various possible response formats\n        let token;\n        if (response.token) {\n            token = response.token;\n        } else if (response.access_token) {\n            token = response.access_token;\n        } else if (response.bearerToken) {\n            token = response.bearerToken;\n        } else if (response.authToken) {\n            token = response.authToken;\n        } else if (response.data?.token) {\n            token = response.data.token;\n        } else if (response.data?.access_token) {\n            token = response.data.access_token;\n        }\n        if (token) {\n            console.log(\"Token found in response, saving to localStorage\");\n            setToken(token);\n            // Verify the token was set properly\n            setTimeout(()=>{\n                const storedToken = getToken();\n                console.log(\"Token in localStorage after login:\", storedToken ? \"present\" : \"missing\");\n            }, 100);\n        } else {\n            console.warn(\"No token found in login response. Response structure:\", Object.keys(response));\n            // If we receive an object with a single property that could be a token, try using that\n            if (typeof response === \"object\" && response !== null) {\n                const keys = Object.keys(response);\n                if (keys.length === 1 && typeof response[keys[0]] === \"string\") {\n                    const possibleToken = response[keys[0]];\n                    console.log(`Using ${keys[0]} as token:`, possibleToken);\n                    setToken(possibleToken);\n                }\n            }\n        }\n        return response;\n    } catch (error) {\n        console.error(\"Login error:\", error);\n        throw error;\n    }\n};\nconst register = async (data)=>{\n    try {\n        const response = await _api__WEBPACK_IMPORTED_MODULE_0__.api.post(\"/register\", data);\n        console.log(\"Register response received:\", JSON.stringify(response, null, 2));\n        // Extract token from various possible response formats\n        let token;\n        if (response.token) {\n            token = response.token;\n        } else if (response.access_token) {\n            token = response.access_token;\n        } else if (response.bearerToken) {\n            token = response.bearerToken;\n        } else if (response.authToken) {\n            token = response.authToken;\n        } else if (response.data?.token) {\n            token = response.data.token;\n        } else if (response.data?.access_token) {\n            token = response.data.access_token;\n        }\n        if (token) {\n            console.log(\"Token found in response, saving to localStorage\");\n            setToken(token);\n            // Verify the token was set properly\n            setTimeout(()=>{\n                const storedToken = getToken();\n                console.log(\"Token in localStorage after registration:\", storedToken ? \"present\" : \"missing\");\n            }, 100);\n        } else {\n            console.warn(\"No token found in registration response. Response structure:\", Object.keys(response));\n            // If we receive an object with a single property that could be a token, try using that\n            if (typeof response === \"object\" && response !== null) {\n                const keys = Object.keys(response);\n                if (keys.length === 1 && typeof response[keys[0]] === \"string\") {\n                    const possibleToken = response[keys[0]];\n                    console.log(`Using ${keys[0]} as token:`, possibleToken);\n                    setToken(possibleToken);\n                }\n            }\n        }\n        return response;\n    } catch (error) {\n        console.error(\"Registration error:\", error);\n        throw error;\n    }\n};\nconst logout = async ()=>{\n    try {\n        await _api__WEBPACK_IMPORTED_MODULE_0__.api.post(\"/users/logout\", {}, {\n            requiresAuth: true\n        });\n        // Remove auth token\n        removeToken();\n        // Clear all user data from localStorage\n        console.log(\"Clearing all user data from localStorage during logout\");\n        if (false) {}\n    } catch (error) {\n        console.error(\"Logout error:\", error);\n        // Still remove all user data even if the API call fails\n        removeToken();\n        // Clear user data\n        if (false) {}\n    }\n};\nconst checkAuth = async ()=>{\n    try {\n        const token = getToken();\n        if (!token) return false;\n        await _api__WEBPACK_IMPORTED_MODULE_0__.api.get(\"/users/me\", {\n            requiresAuth: true\n        });\n        return true;\n    } catch (error) {\n        removeToken();\n        return false;\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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bEM7SUFDSDtBQUNGLEVBQUU7QUFFSyxNQUFNMkIsWUFBWTtJQUN2QixJQUFJO1FBQ0YsTUFBTXJDLFFBQVFKO1FBQ2QsSUFBSSxDQUFDSSxPQUFPLE9BQU87UUFFbkIsTUFBTU4scUNBQUdBLENBQUM0QyxHQUFHLENBQUMsYUFBYTtZQUFFVCxjQUFjO1FBQUs7UUFDaEQsT0FBTztJQUNULEVBQUUsT0FBT3hCLE9BQU87UUFDZEs7UUFDQSxPQUFPO0lBQ1Q7QUFDRixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaW5rZWRpbi13ZWIvLi91dGlscy9hdXRoLnRzP2IzOGEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXBpIH0gZnJvbSAnLi9hcGknO1xuaW1wb3J0IHsgY2xlYXJDYWNoZSB9IGZyb20gJy4vYXBpQ2FjaGUnO1xuXG4vLyBUb2tlbiBtYW5hZ2VtZW50XG5leHBvcnQgY29uc3QgZ2V0VG9rZW4gPSAoc291cmNlOiBzdHJpbmcgPSAndW5rbm93bicpOiBzdHJpbmcgfCBudWxsID0+IHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgY29uc29sZS5sb2coYGdldFRva2VuIGNhbGxlZCBkdXJpbmcgU1NSIGZyb20gJHtzb3VyY2V9IC0gbm8gdG9rZW4gYXZhaWxhYmxlYCk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgXG4gIHRyeSB7XG4gICAgY29uc3QgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYXV0aF90b2tlbicpO1xuICAgIFxuICAgIGlmICghdG9rZW4pIHtcbiAgICAgIGNvbnNvbGUubG9nKGBObyBhdXRoIHRva2VuIGZvdW5kIGluIGxvY2FsU3RvcmFnZSAocmVxdWVzdGVkIGJ5ICR7c291cmNlfSlgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gT25seSBsb2cgdGhlIGZpcnN0IGZldyBjaGFyYWN0ZXJzIG9mIHRoZSB0b2tlbiBmb3Igc2VjdXJpdHlcbiAgICAgIGNvbnN0IHRva2VuUHJldmlldyA9IHRva2VuLnN1YnN0cmluZygwLCAxMCkgKyAnLi4uJztcbiAgICAgIGNvbnNvbGUubG9nKGBBdXRoIHRva2VuIHJldHJpZXZlZCBmcm9tIGxvY2FsU3RvcmFnZSAocmVxdWVzdGVkIGJ5ICR7c291cmNlfSk6ICR7dG9rZW5QcmV2aWV3fWApO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gdG9rZW47XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihgRXJyb3IgcmVhZGluZyB0b2tlbiBmcm9tIGxvY2FsU3RvcmFnZSAocmVxdWVzdGVkIGJ5ICR7c291cmNlfSk6YCwgZXJyb3IpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3Qgc2V0VG9rZW4gPSAodG9rZW46IHN0cmluZyk6IHZvaWQgPT4ge1xuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBjb25zb2xlLndhcm4oJ3NldFRva2VuIGNhbGxlZCBkdXJpbmcgU1NSIC0gdG9rZW4gd2lsbCBub3QgYmUgc2F2ZWQnKTtcbiAgICByZXR1cm47XG4gIH1cbiAgXG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coJ1NldHRpbmcgYXV0aCB0b2tlbiBpbiBsb2NhbFN0b3JhZ2UnKTtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYXV0aF90b2tlbicsIHRva2VuKTtcbiAgICBcbiAgICAvLyBWZXJpZnkgaW1tZWRpYXRlbHlcbiAgICBjb25zdCBzdG9yZWRUb2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhdXRoX3Rva2VuJyk7XG4gICAgaWYgKHN0b3JlZFRva2VuICE9PSB0b2tlbikge1xuICAgICAgY29uc29sZS5lcnJvcignVG9rZW4gdmVyaWZpY2F0aW9uIGZhaWxlZCAtIHN0b3JlZCB0b2tlbiBkb2VzIG5vdCBtYXRjaCB0aGUgdG9rZW4gYmVpbmcgc2V0Jyk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNldHRpbmcgdG9rZW4gaW4gbG9jYWxTdG9yYWdlOicsIGVycm9yKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IHJlbW92ZVRva2VuID0gKCk6IHZvaWQgPT4ge1xuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnYXV0aF90b2tlbicpO1xuICB9XG59O1xuXG4vLyBVc2VyIGF1dGhlbnRpY2F0aW9uXG5pbnRlcmZhY2UgTG9naW5DcmVkZW50aWFscyB7XG4gIGVtYWlsOiBzdHJpbmc7XG4gIHBhc3N3b3JkOiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBMb2dpblJlc3BvbnNlIHtcbiAgdG9rZW4/OiBzdHJpbmc7XG4gIGFjY2Vzc190b2tlbj86IHN0cmluZzsgLy8gU29tZSBBUElzIHVzZSBhY2Nlc3NfdG9rZW4gaW5zdGVhZCBvZiB0b2tlblxuICBiZWFyZXJUb2tlbj86IHN0cmluZzsgIC8vIFNvbWUgQVBJcyB1c2UgYmVhcmVyVG9rZW5cbiAgYXV0aFRva2VuPzogc3RyaW5nOyAgICAvLyBTb21lIEFQSXMgdXNlIGF1dGhUb2tlblxuICB1c2VyPzogYW55O1xuICBkYXRhPzoge1xuICAgIHRva2VuPzogc3RyaW5nO1xuICAgIGFjY2Vzc190b2tlbj86IHN0cmluZztcbiAgICB1c2VyPzogYW55O1xuICB9O1xufVxuXG5pbnRlcmZhY2UgUmVnaXN0ZXJEYXRhIHtcbiAgZmlyc3RfbmFtZTogc3RyaW5nO1xuICBsYXN0X25hbWU6IHN0cmluZztcbiAgZW1haWw6IHN0cmluZztcbiAgdXNlcm5hbWU6IHN0cmluZztcbiAgcGFzc3dvcmQ6IHN0cmluZztcbiAgcGFzc3dvcmRfY29uZmlybWF0aW9uOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjb25zdCBsb2dpbiA9IGFzeW5jIChjcmVkZW50aWFsczogTG9naW5DcmVkZW50aWFscyk6IFByb21pc2U8TG9naW5SZXNwb25zZT4gPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpLnBvc3Q8TG9naW5SZXNwb25zZT4oJy9sb2dpbicsIGNyZWRlbnRpYWxzKTtcbiAgICBcbiAgICBjb25zb2xlLmxvZygnTG9naW4gcmVzcG9uc2UgcmVjZWl2ZWQ6JywgSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UsIG51bGwsIDIpKTtcbiAgICBcbiAgICAvLyBFeHRyYWN0IHRva2VuIGZyb20gdmFyaW91cyBwb3NzaWJsZSByZXNwb25zZSBmb3JtYXRzXG4gICAgbGV0IHRva2VuOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gICAgXG4gICAgaWYgKHJlc3BvbnNlLnRva2VuKSB7XG4gICAgICB0b2tlbiA9IHJlc3BvbnNlLnRva2VuO1xuICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuYWNjZXNzX3Rva2VuKSB7XG4gICAgICB0b2tlbiA9IHJlc3BvbnNlLmFjY2Vzc190b2tlbjtcbiAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmJlYXJlclRva2VuKSB7XG4gICAgICB0b2tlbiA9IHJlc3BvbnNlLmJlYXJlclRva2VuO1xuICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuYXV0aFRva2VuKSB7XG4gICAgICB0b2tlbiA9IHJlc3BvbnNlLmF1dGhUb2tlbjtcbiAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGE/LnRva2VuKSB7XG4gICAgICB0b2tlbiA9IHJlc3BvbnNlLmRhdGEudG9rZW47XG4gICAgfSBlbHNlIGlmIChyZXNwb25zZS5kYXRhPy5hY2Nlc3NfdG9rZW4pIHtcbiAgICAgIHRva2VuID0gcmVzcG9uc2UuZGF0YS5hY2Nlc3NfdG9rZW47XG4gICAgfVxuICAgIFxuICAgIGlmICh0b2tlbikge1xuICAgICAgY29uc29sZS5sb2coJ1Rva2VuIGZvdW5kIGluIHJlc3BvbnNlLCBzYXZpbmcgdG8gbG9jYWxTdG9yYWdlJyk7XG4gICAgICBzZXRUb2tlbih0b2tlbik7XG4gICAgICBcbiAgICAgIC8vIFZlcmlmeSB0aGUgdG9rZW4gd2FzIHNldCBwcm9wZXJseVxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IHN0b3JlZFRva2VuID0gZ2V0VG9rZW4oKTtcbiAgICAgICAgY29uc29sZS5sb2coJ1Rva2VuIGluIGxvY2FsU3RvcmFnZSBhZnRlciBsb2dpbjonLCBzdG9yZWRUb2tlbiA/ICdwcmVzZW50JyA6ICdtaXNzaW5nJyk7XG4gICAgICB9LCAxMDApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLndhcm4oJ05vIHRva2VuIGZvdW5kIGluIGxvZ2luIHJlc3BvbnNlLiBSZXNwb25zZSBzdHJ1Y3R1cmU6JywgT2JqZWN0LmtleXMocmVzcG9uc2UpKTtcbiAgICAgIFxuICAgICAgLy8gSWYgd2UgcmVjZWl2ZSBhbiBvYmplY3Qgd2l0aCBhIHNpbmdsZSBwcm9wZXJ0eSB0aGF0IGNvdWxkIGJlIGEgdG9rZW4sIHRyeSB1c2luZyB0aGF0XG4gICAgICBpZiAodHlwZW9mIHJlc3BvbnNlID09PSAnb2JqZWN0JyAmJiByZXNwb25zZSAhPT0gbnVsbCkge1xuICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMocmVzcG9uc2UpO1xuICAgICAgICBpZiAoa2V5cy5sZW5ndGggPT09IDEgJiYgdHlwZW9mIHJlc3BvbnNlW2tleXNbMF1dID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIGNvbnN0IHBvc3NpYmxlVG9rZW4gPSByZXNwb25zZVtrZXlzWzBdXTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgVXNpbmcgJHtrZXlzWzBdfSBhcyB0b2tlbjpgLCBwb3NzaWJsZVRva2VuKTtcbiAgICAgICAgICBzZXRUb2tlbihwb3NzaWJsZVRva2VuKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignTG9naW4gZXJyb3I6JywgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXIgPSBhc3luYyAoZGF0YTogUmVnaXN0ZXJEYXRhKTogUHJvbWlzZTxMb2dpblJlc3BvbnNlPiA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGkucG9zdDxMb2dpblJlc3BvbnNlPignL3JlZ2lzdGVyJywgZGF0YSk7XG4gICAgXG4gICAgY29uc29sZS5sb2coJ1JlZ2lzdGVyIHJlc3BvbnNlIHJlY2VpdmVkOicsIEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlLCBudWxsLCAyKSk7XG4gICAgXG4gICAgLy8gRXh0cmFjdCB0b2tlbiBmcm9tIHZhcmlvdXMgcG9zc2libGUgcmVzcG9uc2UgZm9ybWF0c1xuICAgIGxldCB0b2tlbjogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgIFxuICAgIGlmIChyZXNwb25zZS50b2tlbikge1xuICAgICAgdG9rZW4gPSByZXNwb25zZS50b2tlbjtcbiAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmFjY2Vzc190b2tlbikge1xuICAgICAgdG9rZW4gPSByZXNwb25zZS5hY2Nlc3NfdG9rZW47XG4gICAgfSBlbHNlIGlmIChyZXNwb25zZS5iZWFyZXJUb2tlbikge1xuICAgICAgdG9rZW4gPSByZXNwb25zZS5iZWFyZXJUb2tlbjtcbiAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmF1dGhUb2tlbikge1xuICAgICAgdG9rZW4gPSByZXNwb25zZS5hdXRoVG9rZW47XG4gICAgfSBlbHNlIGlmIChyZXNwb25zZS5kYXRhPy50b2tlbikge1xuICAgICAgdG9rZW4gPSByZXNwb25zZS5kYXRhLnRva2VuO1xuICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YT8uYWNjZXNzX3Rva2VuKSB7XG4gICAgICB0b2tlbiA9IHJlc3BvbnNlLmRhdGEuYWNjZXNzX3Rva2VuO1xuICAgIH1cbiAgICBcbiAgICBpZiAodG9rZW4pIHtcbiAgICAgIGNvbnNvbGUubG9nKCdUb2tlbiBmb3VuZCBpbiByZXNwb25zZSwgc2F2aW5nIHRvIGxvY2FsU3RvcmFnZScpO1xuICAgICAgc2V0VG9rZW4odG9rZW4pO1xuICAgICAgXG4gICAgICAvLyBWZXJpZnkgdGhlIHRva2VuIHdhcyBzZXQgcHJvcGVybHlcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBjb25zdCBzdG9yZWRUb2tlbiA9IGdldFRva2VuKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdUb2tlbiBpbiBsb2NhbFN0b3JhZ2UgYWZ0ZXIgcmVnaXN0cmF0aW9uOicsIHN0b3JlZFRva2VuID8gJ3ByZXNlbnQnIDogJ21pc3NpbmcnKTtcbiAgICAgIH0sIDEwMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUud2FybignTm8gdG9rZW4gZm91bmQgaW4gcmVnaXN0cmF0aW9uIHJlc3BvbnNlLiBSZXNwb25zZSBzdHJ1Y3R1cmU6JywgT2JqZWN0LmtleXMocmVzcG9uc2UpKTtcbiAgICAgIFxuICAgICAgLy8gSWYgd2UgcmVjZWl2ZSBhbiBvYmplY3Qgd2l0aCBhIHNpbmdsZSBwcm9wZXJ0eSB0aGF0IGNvdWxkIGJlIGEgdG9rZW4sIHRyeSB1c2luZyB0aGF0XG4gICAgICBpZiAodHlwZW9mIHJlc3BvbnNlID09PSAnb2JqZWN0JyAmJiByZXNwb25zZSAhPT0gbnVsbCkge1xuICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMocmVzcG9uc2UpO1xuICAgICAgICBpZiAoa2V5cy5sZW5ndGggPT09IDEgJiYgdHlwZW9mIHJlc3BvbnNlW2tleXNbMF1dID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIGNvbnN0IHBvc3NpYmxlVG9rZW4gPSByZXNwb25zZVtrZXlzWzBdXTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgVXNpbmcgJHtrZXlzWzBdfSBhcyB0b2tlbjpgLCBwb3NzaWJsZVRva2VuKTtcbiAgICAgICAgICBzZXRUb2tlbihwb3NzaWJsZVRva2VuKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignUmVnaXN0cmF0aW9uIGVycm9yOicsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGxvZ291dCA9IGFzeW5jICgpOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgdHJ5IHtcbiAgICBhd2FpdCBhcGkucG9zdCgnL3VzZXJzL2xvZ291dCcsIHt9LCB7IHJlcXVpcmVzQXV0aDogdHJ1ZSB9KTtcbiAgICBcbiAgICAvLyBSZW1vdmUgYXV0aCB0b2tlblxuICAgIHJlbW92ZVRva2VuKCk7XG4gICAgXG4gICAgLy8gQ2xlYXIgYWxsIHVzZXIgZGF0YSBmcm9tIGxvY2FsU3RvcmFnZVxuICAgIGNvbnNvbGUubG9nKCdDbGVhcmluZyBhbGwgdXNlciBkYXRhIGZyb20gbG9jYWxTdG9yYWdlIGR1cmluZyBsb2dvdXQnKTtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdhdXRoX3Rva2VuJyk7XG4gICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndXNlcl9kYXRhJyk7XG4gICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndXNlcl9pZCcpO1xuICAgICAgXG4gICAgICAvLyBDbGVhciBhbnkgYWRkaXRpb25hbCB1c2VyLXJlbGF0ZWQgY2FjaGUgaXRlbXNcbiAgICAgIGNvbnN0IGtleXNUb1JlbW92ZSA9IFtdO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsb2NhbFN0b3JhZ2UubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qga2V5ID0gbG9jYWxTdG9yYWdlLmtleShpKTtcbiAgICAgICAgaWYgKGtleSAmJiAoa2V5LmluY2x1ZGVzKCd1c2VyJykgfHwga2V5LmluY2x1ZGVzKCd0b2tlbicpIHx8IGtleS5pbmNsdWRlcygnYXV0aCcpKSkge1xuICAgICAgICAgIGtleXNUb1JlbW92ZS5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gUmVtb3ZlIGlkZW50aWZpZWQga2V5c1xuICAgICAga2V5c1RvUmVtb3ZlLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coYFJlbW92aW5nIGxvY2FsU3RvcmFnZSBpdGVtOiAke2tleX1gKTtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBDbGVhciBBUEkgY2FjaGUgZm9yIHVzZXItcmVsYXRlZCBlbmRwb2ludHNcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIENsZWFyIGNvbW1vbiB1c2VyLXJlbGF0ZWQgZW5kcG9pbnRzIGRpcmVjdGx5XG4gICAgICAgIGNsZWFyQ2FjaGUoJy91c2Vycy9tZScpO1xuICAgICAgICBjbGVhckNhY2hlKCcvdXNlcnMvJyk7XG4gICAgICAgIGNsZWFyQ2FjaGUoJy91c2VyJyk7XG4gICAgICAgIGNsZWFyQ2FjaGUoJ3VzZXInKTtcbiAgICAgICAgY2xlYXJDYWNoZSgncHJvZmlsZScpO1xuICAgICAgICBjb25zb2xlLmxvZygnQXV0aFV0aWxzOiBDbGVhcmVkIHVzZXItcmVsYXRlZCBBUEkgY2FjaGUgZHVyaW5nIGxvZ291dCcpO1xuICAgICAgfSBjYXRjaCAoY2FjaGVFcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignQXV0aFV0aWxzOiBGYWlsZWQgdG8gY2xlYXIgdXNlciBBUEkgY2FjaGU6JywgY2FjaGVFcnIpO1xuICAgICAgfVxuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdMb2dvdXQgZXJyb3I6JywgZXJyb3IpO1xuICAgIFxuICAgIC8vIFN0aWxsIHJlbW92ZSBhbGwgdXNlciBkYXRhIGV2ZW4gaWYgdGhlIEFQSSBjYWxsIGZhaWxzXG4gICAgcmVtb3ZlVG9rZW4oKTtcbiAgICBcbiAgICAvLyBDbGVhciB1c2VyIGRhdGFcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdhdXRoX3Rva2VuJyk7XG4gICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndXNlcl9kYXRhJyk7XG4gICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndXNlcl9pZCcpO1xuICAgICAgXG4gICAgICAvLyBBbHNvIHRyeSB0byBjbGVhciBBUEkgY2FjaGUgZXZlbiBpZiBBUEkgY2FsbCBmYWlsZWRcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIENsZWFyIGNvbW1vbiB1c2VyLXJlbGF0ZWQgZW5kcG9pbnRzIGRpcmVjdGx5XG4gICAgICAgIGNsZWFyQ2FjaGUoJy91c2Vycy9tZScpO1xuICAgICAgICBjbGVhckNhY2hlKCcvdXNlcnMvJyk7XG4gICAgICAgIGNsZWFyQ2FjaGUoJy91c2VyJyk7XG4gICAgICAgIGNsZWFyQ2FjaGUoJ3VzZXInKTtcbiAgICAgICAgY2xlYXJDYWNoZSgncHJvZmlsZScpO1xuICAgICAgICBjb25zb2xlLmxvZygnQXV0aFV0aWxzOiBDbGVhcmVkIHVzZXItcmVsYXRlZCBBUEkgY2FjaGUgZHVyaW5nIGxvZ291dCAoYWZ0ZXIgQVBJIGVycm9yKScpO1xuICAgICAgfSBjYXRjaCAoY2FjaGVFcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignQXV0aFV0aWxzOiBGYWlsZWQgdG8gY2xlYXIgdXNlciBBUEkgY2FjaGU6JywgY2FjaGVFcnIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGNoZWNrQXV0aCA9IGFzeW5jICgpOiBQcm9taXNlPGJvb2xlYW4+ID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB0b2tlbiA9IGdldFRva2VuKCk7XG4gICAgaWYgKCF0b2tlbikgcmV0dXJuIGZhbHNlO1xuICAgIFxuICAgIGF3YWl0IGFwaS5nZXQoJy91c2Vycy9tZScsIHsgcmVxdWlyZXNBdXRoOiB0cnVlIH0pO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJlbW92ZVRva2VuKCk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59OyJdLCJuYW1lcyI6WyJhcGkiLCJjbGVhckNhY2hlIiwiZ2V0VG9rZW4iLCJzb3VyY2UiLCJjb25zb2xlIiwibG9nIiwidG9rZW4iLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwidG9rZW5QcmV2aWV3Iiwic3Vic3RyaW5nIiwiZXJyb3IiLCJzZXRUb2tlbiIsIndhcm4iLCJzZXRJdGVtIiwic3RvcmVkVG9rZW4iLCJyZW1vdmVUb2tlbiIsInJlbW92ZUl0ZW0iLCJsb2dpbiIsImNyZWRlbnRpYWxzIiwicmVzcG9uc2UiLCJwb3N0IiwiSlNPTiIsInN0cmluZ2lmeSIsImFjY2Vzc190b2tlbiIsImJlYXJlclRva2VuIiwiYXV0aFRva2VuIiwiZGF0YSIsInNldFRpbWVvdXQiLCJPYmplY3QiLCJrZXlzIiwibGVuZ3RoIiwicG9zc2libGVUb2tlbiIsInJlZ2lzdGVyIiwibG9nb3V0IiwicmVxdWlyZXNBdXRoIiwia2V5c1RvUmVtb3ZlIiwiaSIsImtleSIsImluY2x1ZGVzIiwicHVzaCIsImZvckVhY2giLCJjYWNoZUVyciIsImNoZWNrQXV0aCIsImdldCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./utils/auth.ts\n");

/***/ }),

/***/ "./styles/globals.css":
/*!****************************!*\
  !*** ./styles/globals.css ***!
  \****************************/
/***/ (() => {



/***/ }),

/***/ "prop-types":
/*!*****************************!*\
  !*** external "prop-types" ***!
  \*****************************/
/***/ ((module) => {

"use strict";
module.exports = require("prop-types");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("react");

/***/ }),

/***/ "react-is":
/*!***************************!*\
  !*** external "react-is" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("react-is");

/***/ }),

/***/ "react/jsx-dev-runtime":
/*!****************************************!*\
  !*** external "react/jsx-dev-runtime" ***!
  \****************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-dev-runtime");

/***/ }),

/***/ "react/jsx-runtime":
/*!************************************!*\
  !*** external "react/jsx-runtime" ***!
  \************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-runtime");

/***/ }),

/***/ "@emotion/cache":
/*!*********************************!*\
  !*** external "@emotion/cache" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = import("@emotion/cache");;

/***/ }),

/***/ "@emotion/react":
/*!*********************************!*\
  !*** external "@emotion/react" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = import("@emotion/react");;

/***/ }),

/***/ "@emotion/serialize":
/*!*************************************!*\
  !*** external "@emotion/serialize" ***!
  \*************************************/
/***/ ((module) => {

"use strict";
module.exports = import("@emotion/serialize");;

/***/ }),

/***/ "@emotion/sheet":
/*!*********************************!*\
  !*** external "@emotion/sheet" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = import("@emotion/sheet");;

/***/ }),

/***/ "@emotion/styled":
/*!**********************************!*\
  !*** external "@emotion/styled" ***!
  \**********************************/
/***/ ((module) => {

"use strict";
module.exports = import("@emotion/styled");;

/***/ }),

/***/ "@mui/material/styles":
/*!***************************************!*\
  !*** external "@mui/material/styles" ***!
  \***************************************/
/***/ ((module) => {

"use strict";
module.exports = import("@mui/material/styles");;

/***/ }),

/***/ "clsx":
/*!***********************!*\
  !*** external "clsx" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = import("clsx");;

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/@mui"], () => (__webpack_exec__("./pages/_app.tsx")));
module.exports = __webpack_exports__;

})();